(self.webpackChunkmy_sample_typescript_app=self.webpackChunkmy_sample_typescript_app||[]).push([["vendors~node_modules_lodash_groupBy_js~node_modules_umap-js_dist_index_js~node_modules_d3-sca~62a577"],{709057:function(t,e,r){"use strict";r.r(e),r.d(e,{isAnyArray:function(){return o}});let n=Object.prototype.toString;function o(t){let e=n.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},658502:function(t,e,r){var n=r("825725")(r("619146"),"DataView");t.exports=n},961192:function(t,e,r){var n=r("706346"),o=r("388885"),i=r("948295"),s=r("908912"),u=r("592714");function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=u,t.exports=a},880526:function(t,e,r){var n=r("769455"),o=r("68056"),i=r("996764"),s=r("228751"),u=r("344193");function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=u,t.exports=a},855643:function(t,e,r){var n=r("825725")(r("619146"),"Map");t.exports=n},918115:function(t,e,r){var n=r("655499"),o=r("540565"),i=r("677656"),s=r("817104"),u=r("354190");function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=u,t.exports=a},608403:function(t,e,r){var n=r("825725")(r("619146"),"Promise");t.exports=n},351872:function(t,e,r){var n=r("825725")(r("619146"),"Set");t.exports=n},535313:function(t,e,r){var n=r("918115"),o=r("932434"),i=r("888604");function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},813689:function(t,e,r){var n=r("880526"),o=r("412662"),i=r("90780"),s=r("104060"),u=r("836643"),a=r("171569");function l(t){var e=this.__data__=new n(t);this.size=e.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=u,l.prototype.set=a,t.exports=l},724514:function(t,e,r){var n=r("619146").Symbol;t.exports=n},67203:function(t,e,r){var n=r("619146").Uint8Array;t.exports=n},620198:function(t,e,r){var n=r("825725")(r("619146"),"WeakMap");t.exports=n},493467:function(t,e,r){t.exports=function(t,e,r,n){for(var o=-1,i=null==t?0:t.length;++o<i;){var s=t[o];e(n,s,r(s),t)}return n}},982804:function(t,e,r){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i}},900089:function(t,e,r){var n=r("63533"),o=r("651558"),i=r("349046"),s=r("153997"),u=r("820458"),a=r("663652"),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),c=!r&&o(t),h=!r&&!c&&s(t),f=!r&&!c&&!h&&a(t),p=r||c||h||f,m=p?n(t.length,String):[],g=m.length;for(var d in t)(e||l.call(t,d))&&!(p&&("length"==d||h&&("offset"==d||"parent"==d)||f&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||u(d,g)))&&m.push(d);return m}},107327:function(t,e,r){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},620926:function(t,e,r){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},335970:function(t,e,r){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},318624:function(t,e,r){var n=r("378855");t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return -1}},167030:function(t,e,r){var n=r("800709");t.exports=function(t,e,r,o){return n(t,function(t,n,i){e(o,t,r(t),i)}),o}},377235:function(t,e,r){var n=r("12998");t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},800709:function(t,e,r){var n=r("34570"),o=r("348794")(n);t.exports=o},468457:function(t,e,r){var n=r("649754")();t.exports=n},34570:function(t,e,r){var n=r("468457"),o=r("905269");t.exports=function(t,e){return t&&n(t,e,o)}},501566:function(t,e,r){var n=r("324378"),o=r("553174");t.exports=function(t,e){e=n(e,t);for(var r=0,i=e.length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},944902:function(t,e,r){var n=r("620926"),o=r("349046");t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},616691:function(t,e,r){var n=r("724514"),o=r("372925"),i=r("266893"),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):i(t)}},817705:function(t,e,r){t.exports=function(t,e){return null!=t&&e in Object(t)}},990693:function(t,e,r){var n=r("616691"),o=r("509492");t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},235446:function(t,e,r){var n=r("217467"),o=r("509492");t.exports=function t(e,r,i,s,u){return e===r||(null!=e&&null!=r&&(o(e)||o(r))?n(e,r,i,s,t,u):e!=e&&r!=r)}},217467:function(t,e,r){var n=r("813689"),o=r("761158"),i=r("881334"),s=r("395284"),u=r("431244"),a=r("349046"),l=r("153997"),c=r("663652"),h="[object Arguments]",f="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,d,v){var y=a(t),w=a(e),b=y?f:u(t),x=w?f:u(e);b=b==h?p:b,x=x==h?p:x;var M=b==p,S=x==p,k=b==x;if(k&&l(t)){if(!l(e))return!1;y=!0,M=!1}if(k&&!M)return v||(v=new n),y||c(t)?o(t,e,r,g,d,v):i(t,e,b,r,g,d,v);if(!(1&r)){var E=M&&m.call(t,"__wrapped__"),_=S&&m.call(e,"__wrapped__");if(E||_){var N=E?t.value():t,R=_?e.value():e;return v||(v=new n),d(N,R,r,g,v)}}return!!k&&(v||(v=new n),s(t,e,r,g,d,v))}},84432:function(t,e,r){var n=r("813689"),o=r("235446");t.exports=function(t,e,r,i){var s=r.length,u=s,a=!i;if(null==t)return!u;for(t=Object(t);s--;){var l=r[s];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<u;){var c=(l=r[s])[0],h=t[c],f=l[1];if(a&&l[2]){if(void 0===h&&!(c in t))return!1}else{var p=new n;if(i)var m=i(h,f,c,t,e,p);if(!(void 0===m?o(f,h,3,i,p):m))return!1}}return!0}},489533:function(t,e,r){var n=r("843543"),o=r("910851"),i=r("836439"),s=r("883008"),u=/^\[object .+?Constructor\]$/,a=Object.prototype,l=Function.prototype.toString,c=a.hasOwnProperty,h=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?h:u).test(s(t))}},85722:function(t,e,r){var n=r("616691"),o=r("960052"),i=r("509492"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;t.exports=function(t){return i(t)&&o(t.length)&&!!s[n(t)]}},931971:function(t,e,r){var n=r("534613"),o=r("501683"),i=r("545972"),s=r("349046"),u=r("773509");t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?s(t)?o(t[0],t[1]):n(t):u(t)}},891183:function(t,e,r){var n=r("356827"),o=r("57100"),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},534613:function(t,e,r){var n=r("84432"),o=r("293380"),i=r("340111");t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},501683:function(t,e,r){var n=r("235446"),o=r("956283"),i=r("821090"),s=r("132212"),u=r("439848"),a=r("340111"),l=r("553174");t.exports=function(t,e){return s(t)&&u(e)?a(l(t),e):function(r){var s=o(r,t);return void 0===s&&s===e?i(r,t):n(e,s,3)}}},856213:function(t,e,r){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},370326:function(t,e,r){var n=r("501566");t.exports=function(t){return function(e){return n(e,t)}}},63533:function(t,e,r){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},475106:function(t,e,r){var n=r("724514"),o=r("107327"),i=r("349046"),s=r("926698"),u=1/0,a=n?n.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(s(e))return l?l.call(e):"";var r=e+"";return"0"==r&&1/e==-u?"-0":r}},870686:function(t,e,r){t.exports=function(t){return function(e){return t(e)}}},444889:function(t,e,r){t.exports=function(t,e){return t.has(e)}},324378:function(t,e,r){var n=r("349046"),o=r("132212"),i=r("159693"),s=r("497262");t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(s(t))}},329659:function(t,e,r){var n=r("619146")["__core-js_shared__"];t.exports=n},471346:function(t,e,r){var n=r("493467"),o=r("167030"),i=r("931971"),s=r("349046");t.exports=function(t,e){return function(r,u){var a=s(r)?n:o,l=e?e():{};return a(r,t,i(u,2),l)}}},348794:function(t,e,r){var n=r("355653");t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var i=r.length,s=e?i:-1,u=Object(r);(e?s--:++s<i)&&!1!==o(u[s],s,u););return r}}},649754:function(t,e,r){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),s=n(e),u=s.length;u--;){var a=s[t?u:++o];if(!1===r(i[a],a,i))break}return e}}},12998:function(t,e,r){var n=r("825725"),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},761158:function(t,e,r){var n=r("535313"),o=r("335970"),i=r("444889");t.exports=function(t,e,r,s,u,a){var l=1&r,c=t.length,h=e.length;if(c!=h&&!(l&&h>c))return!1;var f=a.get(t),p=a.get(e);if(f&&p)return f==e&&p==t;var m=-1,g=!0,d=2&r?new n:void 0;for(a.set(t,e),a.set(e,t);++m<c;){var v=t[m],y=e[m];if(s)var w=l?s(y,v,m,e,t,a):s(v,y,m,t,e,a);if(void 0!==w){if(w)continue;g=!1;break}if(d){if(!o(e,function(t,e){if(!i(d,e)&&(v===t||u(v,t,r,s,a)))return d.push(e)})){g=!1;break}}else if(!(v===y||u(v,y,r,s,a))){g=!1;break}}return a.delete(t),a.delete(e),g}},881334:function(t,e,r){var n=r("724514"),o=r("67203"),i=r("378855"),s=r("761158"),u=r("781784"),a=r("908047"),l=n?n.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,r,n,l,h,f){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!h(new o(t),new o(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=u;case"[object Set]":var m=1&n;if(p||(p=a),t.size!=e.size&&!m)break;var g=f.get(t);if(g)return g==e;n|=2,f.set(t,e);var d=s(p(t),p(e),n,l,h,f);return f.delete(t),d;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},395284:function(t,e,r){var n=r("187509"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,s,u){var a=1&r,l=n(t),c=l.length;if(c!=n(e).length&&!a)return!1;for(var h=c;h--;){var f=l[h];if(!(a?f in e:o.call(e,f)))return!1}var p=u.get(t),m=u.get(e);if(p&&m)return p==e&&m==t;var g=!0;u.set(t,e),u.set(e,t);for(var d=a;++h<c;){var v=t[f=l[h]],y=e[f];if(i)var w=a?i(y,v,f,e,t,u):i(v,y,f,t,e,u);if(!(void 0===w?v===y||s(v,y,r,i,u):w)){g=!1;break}d||(d="constructor"==f)}if(g&&!d){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(g=!1)}return u.delete(t),u.delete(e),g}},71890:function(t,e,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},187509:function(t,e,r){var n=r("944902"),o=r("461348"),i=r("905269");t.exports=function(t){return n(t,i,o)}},439670:function(t,e,r){var n=r("420368");t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},293380:function(t,e,r){var n=r("439848"),o=r("905269");t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],s=t[i];e[r]=[i,s,n(s)]}return e}},825725:function(t,e,r){var n=r("489533"),o=r("2464");t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},372925:function(t,e,r){var n=r("724514"),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[u]=r:delete t[u]),o}},461348:function(t,e,r){var n=r("982804"),o=r("563397"),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:n(s(t=Object(t)),function(e){return i.call(t,e)})}:o;t.exports=u},431244:function(t,e,r){var n=r("658502"),o=r("855643"),i=r("608403"),s=r("351872"),u=r("620198"),a=r("616691"),l=r("883008"),c="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",m="[object DataView]",g=l(n),d=l(o),v=l(i),y=l(s),w=l(u),b=a;(n&&b(new n(new ArrayBuffer(1)))!=m||o&&b(new o)!=c||i&&b(i.resolve())!=h||s&&b(new s)!=f||u&&b(new u)!=p)&&(b=function(t){var e=a(t),r="[object Object]"==e?t.constructor:void 0,n=r?l(r):"";if(n)switch(n){case g:return m;case d:return c;case v:return h;case y:return f;case w:return p}return e}),t.exports=b},2464:function(t,e,r){t.exports=function(t,e){return null==t?void 0:t[e]}},914570:function(t,e,r){var n=r("324378"),o=r("651558"),i=r("349046"),s=r("820458"),u=r("960052"),a=r("553174");t.exports=function(t,e,r){e=n(e,t);for(var l=-1,c=e.length,h=!1;++l<c;){var f=a(e[l]);if(!(h=null!=t&&r(t,f)))break;t=t[f]}return h||++l!=c?h:!!(c=null==t?0:t.length)&&u(c)&&s(f,c)&&(i(t)||o(t))}},706346:function(t,e,r){var n=r("802780");t.exports=function(){this.__data__=n?n(null):{},this.size=0}},388885:function(t,e,r){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},948295:function(t,e,r){var n=r("802780"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},908912:function(t,e,r){var n=r("802780"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},592714:function(t,e,r){var n=r("802780");t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},820458:function(t,e,r){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},132212:function(t,e,r){var n=r("349046"),o=r("926698"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!!("number"==r||"symbol"==r||"boolean"==r||null==t||o(t))||s.test(t)||!i.test(t)||null!=e&&t in Object(e)}},420368:function(t,e,r){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},910851:function(t,e,r){var n,o=r("329659");var i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""),n?"Symbol(src)_1."+n:"");t.exports=function(t){return!!i&&i in t}},356827:function(t,e,r){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||n;return t===r}},439848:function(t,e,r){var n=r("836439");t.exports=function(t){return t==t&&!n(t)}},769455:function(t,e,r){t.exports=function(){this.__data__=[],this.size=0}},68056:function(t,e,r){var n=r("318624"),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},996764:function(t,e,r){var n=r("318624");t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},228751:function(t,e,r){var n=r("318624");t.exports=function(t){return n(this.__data__,t)>-1}},344193:function(t,e,r){var n=r("318624");t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},655499:function(t,e,r){var n=r("961192"),o=r("880526"),i=r("855643");t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},540565:function(t,e,r){var n=r("439670");t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},677656:function(t,e,r){var n=r("439670");t.exports=function(t){return n(this,t).get(t)}},817104:function(t,e,r){var n=r("439670");t.exports=function(t){return n(this,t).has(t)}},354190:function(t,e,r){var n=r("439670");t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},781784:function(t,e,r){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},340111:function(t,e,r){t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},791292:function(t,e,r){var n=r("950031");t.exports=function(t){var e=n(t,function(t){return 500===r.size&&r.clear(),t}),r=e.cache;return e}},802780:function(t,e,r){var n=r("825725")(Object,"create");t.exports=n},57100:function(t,e,r){var n=r("676315")(Object.keys,Object);t.exports=n},961077:function(t,e,r){t=r.nmd(t),t=r.nmd(t),t=r.nmd(t),t=r.nmd(t);var n=r("71890"),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o&&n.process,u=function(){try{var t=i&&i.require&&i.require("util").types;if(t)return t;return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u},266893:function(t,e,r){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},676315:function(t,e,r){t.exports=function(t,e){return function(r){return t(e(r))}}},619146:function(t,e,r){var n=r("71890"),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},932434:function(t,e,r){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},888604:function(t,e,r){t.exports=function(t){return this.__data__.has(t)}},908047:function(t,e,r){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},412662:function(t,e,r){var n=r("880526");t.exports=function(){this.__data__=new n,this.size=0}},90780:function(t,e,r){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},104060:function(t,e,r){t.exports=function(t){return this.__data__.get(t)}},836643:function(t,e,r){t.exports=function(t){return this.__data__.has(t)}},171569:function(t,e,r){var n=r("880526"),o=r("855643"),i=r("918115");t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(t,e),this.size=r.size,this}},159693:function(t,e,r){var n=r("791292"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)}),e});t.exports=s},553174:function(t,e,r){var n=r("926698"),o=1/0;t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},883008:function(t,e,r){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},378855:function(t,e,r){t.exports=function(t,e){return t===e||t!=t&&e!=e}},956283:function(t,e,r){var n=r("501566");t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},814796:function(t,e,r){var n=r("377235"),o=r("471346"),i=Object.prototype.hasOwnProperty,s=o(function(t,e,r){i.call(t,r)?t[r].push(e):n(t,r,[e])});t.exports=s},821090:function(t,e,r){var n=r("817705"),o=r("914570");t.exports=function(t,e){return null!=t&&o(t,e,n)}},545972:function(t,e,r){t.exports=function(t){return t}},651558:function(t,e,r){var n=r("990693"),o=r("509492"),i=Object.prototype,s=i.hasOwnProperty,u=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!u.call(t,"callee")};t.exports=a},349046:function(t,e,r){var n=Array.isArray;t.exports=n},355653:function(t,e,r){var n=r("843543"),o=r("960052");t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},153997:function(t,e,r){t=r.nmd(t),t=r.nmd(t),t=r.nmd(t),t=r.nmd(t);var n=r("619146"),o=r("108028"),i="object"==typeof e&&e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=s&&s.exports===i?n.Buffer:void 0,a=u?u.isBuffer:void 0;t.exports=a||o},843543:function(t,e,r){var n=r("616691"),o=r("836439");t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},960052:function(t,e,r){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},836439:function(t,e,r){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},509492:function(t,e,r){t.exports=function(t){return null!=t&&"object"==typeof t}},926698:function(t,e,r){var n=r("616691"),o=r("509492");t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},663652:function(t,e,r){var n=r("85722"),o=r("870686"),i=r("961077"),s=i&&i.isTypedArray,u=s?o(s):n;t.exports=u},905269:function(t,e,r){var n=r("900089"),o=r("891183"),i=r("355653");t.exports=function(t){return i(t)?n(t):o(t)}},950031:function(t,e,r){var n=r("918115");function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},773509:function(t,e,r){var n=r("856213"),o=r("370326"),i=r("132212"),s=r("553174");t.exports=function(t){return i(t)?n(s(t)):o(t)}},563397:function(t,e,r){t.exports=function(){return[]}},108028:function(t,e,r){t.exports=function(){return!1}},497262:function(t,e,r){var n=r("475106");t.exports=function(t){return null==t?"":n(t)}},258493:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("709057");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw TypeError("input must be an array");if(0===t.length)throw TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,s=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw Error("fromIndex must be a positive integer smaller than length");if(s<=o||s>t.length||!Number.isInteger(s))throw Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=t[o],a=o+1;a<s;a++)t[a]>u&&(u=t[a]);return u}},900520:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("709057");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw TypeError("input must be an array");if(0===t.length)throw TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,s=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw Error("fromIndex must be a positive integer smaller than length");if(s<=o||s>t.length||!Number.isInteger(s))throw Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=t[o],a=o+1;a<s;a++)t[a]<u&&(u=t[a]);return u}},295132:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r("709057"),o=r("258493"),i=r("900520");function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,n.isAnyArray)(t)){if(0===t.length)throw TypeError("input must not be empty")}else throw TypeError("input must be an array");if(void 0!==r.output){if(!(0,n.isAnyArray)(r.output))throw TypeError("output option must be an array if specified");e=r.output}else e=Array(t.length);var s=(0,i.default)(t),u=(0,o.default)(t);if(s===u)throw RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,l=void 0===a?r.autoMinMax?s:0:a,c=r.max,h=void 0===c?r.autoMinMax?u:1:c;if(l>=h)throw RangeError("min option must be smaller than max option");for(var f=(h-l)/(u-s),p=0;p<t.length;p++)e[p]=(t[p]-s)*f+l;return e}},568286:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});let n=Object.prototype.toString;function o(t){return n.call(t).endsWith("Array]")}},265751:function(t,e,r){"use strict";function n(t,e,r){let n=0,o=r(e);for(let e=0;e<t.x.length;e++)n+=Math.abs(t.y[e]-o(t.x[e]));return n}r.r(e),r.d(e,{default:function(){return n}})},528890:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r("568286"),o=r("265751"),i=r("351509");function s(t,e,r={}){let s,{maxIterations:u=100,gradientDifference:a=.1,damping:l=0,errorTolerance:c=.01,minValues:h,maxValues:f,initialValues:p}=r;if(l<=0)throw Error("The damping option must be a positive number");if(t.x&&t.y){if(!(0,n.default)(t.x)||t.x.length<2||!(0,n.default)(t.y)||t.y.length<2)throw Error("The data parameter elements must be an array with more than 2 points");else if(t.x.length!==t.y.length)throw Error("The data parameter elements must have the same size")}else throw Error("The data parameter must have x and y elements");let m=p||Array(e.length).fill(1),g=m.length;if(f=f||Array(g).fill(Number.MAX_SAFE_INTEGER),h=h||Array(g).fill(Number.MIN_SAFE_INTEGER),f.length!==h.length)throw Error("minValues and maxValues must be the same size");if(!(0,n.default)(m))throw Error("initialValues must be an array");let d=(0,o.default)(t,m,e),v=d<=c;for(s=0;s<u&&!v;s++){m=(0,i.default)(t,m,l,a,e);for(let t=0;t<g;t++)m[t]=Math.min(Math.max(h[t],m[t]),f[t]);if(isNaN(d=(0,o.default)(t,m,e)))break;v=d<=c}return{parameterValues:m,parameterError:d,iterations:s}}},351509:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("407885");function o(t,e,r,o,i){let s=r*o*o,u=n.Matrix.eye(e.length,e.length,s),a=i(e),l=new Float64Array(t.x.length);for(let e=0;e<t.x.length;e++)l[e]=a(t.x[e]);let c=function(t,e,r,o,i){let s=r.length,u=t.x.length,a=Array(s);for(let n=0;n<s;n++){a[n]=Array(u);let s=r.slice();s[n]+=o;let l=i(s);for(let r=0;r<u;r++)a[n][r]=e[r]-l(t.x[r])}return new n.Matrix(a)}(t,l,e,o,i),h=function(t,e){let r=t.x.length,o=Array(r);for(let n=0;n<r;n++)o[n]=[t.y[n]-e[n]];return new n.Matrix(o)}(t,l),f=(0,n.inverse)(u.add(c.mmul(c.transpose())));return(e=(e=new n.Matrix([e])).sub(f.mmul(c).mmul(h).mul(o).transpose())).to1DArray()}},889873:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return i}});var n=r("6224"),o=r("535581");class i{constructor(t){let e,r,n,i,s,u,a,l,c;let h=(t=o.default.checkMatrix(t)).clone(),f=h.rows,p=h.columns,m=new Float64Array(f),g=1;for(e=0;e<f;e++)m[e]=e;for(r=0,l=new Float64Array(f);r<p;r++){for(e=0;e<f;e++)l[e]=h.get(e,r);for(e=0;e<f;e++){for(n=0,c=Math.min(e,r),s=0;n<c;n++)s+=h.get(e,n)*l[n];l[e]-=s,h.set(e,r,l[e])}for(i=r,e=r+1;e<f;e++)Math.abs(l[e])>Math.abs(l[i])&&(i=e);if(i!==r){for(n=0;n<p;n++)u=h.get(i,n),h.set(i,n,h.get(r,n)),h.set(r,n,u);a=m[i],m[i]=m[r],m[r]=a,g=-g}if(r<f&&0!==h.get(r,r))for(e=r+1;e<f;e++)h.set(e,r,h.get(e,r)/h.get(r,r))}this.LU=h,this.pivotVector=m,this.pivotSign=g}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){let e,r,o;t=n.default.checkMatrix(t);let i=this.LU;if(i.rows!==t.rows)throw Error("Invalid matrix dimensions");if(this.isSingular())throw Error("LU matrix is singular");let s=t.columns,u=t.subMatrixRow(this.pivotVector,0,s-1),a=i.columns;for(o=0;o<a;o++)for(e=o+1;e<a;e++)for(r=0;r<s;r++)u.set(e,r,u.get(e,r)-u.get(o,r)*i.get(e,o));for(o=a-1;o>=0;o--){for(r=0;r<s;r++)u.set(o,r,u.get(o,r)/i.get(o,o));for(e=0;e<o;e++)for(r=0;r<s;r++)u.set(e,r,u.get(e,r)-u.get(o,r)*i.get(e,o))}return u}get determinant(){let t=this.LU;if(!t.isSquare())throw Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,o=new n.default(e,r);for(let n=0;n<e;n++)for(let e=0;e<r;e++)n>e?o.set(n,e,t.get(n,e)):n===e?o.set(n,e,1):o.set(n,e,0);return o}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,o=new n.default(e,r);for(let n=0;n<e;n++)for(let e=0;e<r;e++)n<=e?o.set(n,e,t.get(n,e)):o.set(n,e,0);return o}get pivotPermutationVector(){return Array.from(this.pivotVector)}}},190600:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r("6224"),o=r("535581"),i=r("897291");class s{constructor(t){let e,r,n,s;let u=(t=o.default.checkMatrix(t)).clone(),a=t.rows,l=t.columns,c=new Float64Array(l);for(n=0;n<l;n++){let t=0;for(e=n;e<a;e++)t=(0,i.hypotenuse)(t,u.get(e,n));if(0!==t){for(0>u.get(n,n)&&(t=-t),e=n;e<a;e++)u.set(e,n,u.get(e,n)/t);for(u.set(n,n,u.get(n,n)+1),r=n+1;r<l;r++){for(s=0,e=n;e<a;e++)s+=u.get(e,n)*u.get(e,r);for(s=-s/u.get(n,n),e=n;e<a;e++)u.set(e,r,u.get(e,r)+s*u.get(e,n))}}c[n]=-t}this.QR=u,this.Rdiag=c}solve(t){let e,r,o,i;t=n.default.checkMatrix(t);let s=this.QR,u=s.rows;if(t.rows!==u)throw Error("Matrix row dimensions must agree");if(!this.isFullRank())throw Error("Matrix is rank deficient");let a=t.columns,l=t.clone(),c=s.columns;for(o=0;o<c;o++)for(r=0;r<a;r++){for(i=0,e=o;e<u;e++)i+=s.get(e,o)*l.get(e,r);for(i=-i/s.get(o,o),e=o;e<u;e++)l.set(e,r,l.get(e,r)+i*s.get(e,o))}for(o=c-1;o>=0;o--){for(r=0;r<a;r++)l.set(o,r,l.get(o,r)/this.Rdiag[o]);for(e=0;e<o;e++)for(r=0;r<a;r++)l.set(e,r,l.get(e,r)-l.get(o,r)*s.get(e,o))}return l.subMatrix(0,c-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,o=r.columns,i=new n.default(o,o);for(t=0;t<o;t++)for(e=0;e<o;e++)t<e?i.set(t,e,r.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,r,o,i=this.QR,s=i.rows,u=i.columns,a=new n.default(s,u);for(r=u-1;r>=0;r--){for(t=0;t<s;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<u;e++)if(0!==i.get(r,r)){for(o=0,t=r;t<s;t++)o+=i.get(t,r)*a.get(t,e);for(o=-o/i.get(r,r),t=r;t<s;t++)a.set(t,e,a.get(t,e)+o*i.get(t,r))}}return a}}},239924:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r("6224"),o=r("535581"),i=r("897291");class s{constructor(t,e={}){let r;if((t=o.default.checkMatrix(t)).isEmpty())throw Error("Matrix must be non-empty");let s=t.rows,u=t.columns,{computeLeftSingularVectors:a=!0,computeRightSingularVectors:l=!0,autoTranspose:c=!1}=e,h=!!a,f=!!l,p=!1;if(s<u){if(c){s=(r=t.transpose()).rows,u=r.columns,p=!0;let e=h;h=f,f=e}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose")}else r=t.clone();let m=Math.min(s,u),g=Math.min(s+1,u),d=new Float64Array(g),v=new n.default(s,m),y=new n.default(u,u),w=new Float64Array(u),b=new Float64Array(s),x=new Float64Array(g);for(let t=0;t<g;t++)x[t]=t;let M=Math.min(s-1,u),S=Math.max(0,Math.min(u-2,s)),k=Math.max(M,S);for(let t=0;t<k;t++){if(t<M){d[t]=0;for(let e=t;e<s;e++)d[t]=(0,i.hypotenuse)(d[t],r.get(e,t));if(0!==d[t]){0>r.get(t,t)&&(d[t]=-d[t]);for(let e=t;e<s;e++)r.set(e,t,r.get(e,t)/d[t]);r.set(t,t,r.get(t,t)+1)}d[t]=-d[t]}for(let e=t+1;e<u;e++){if(t<M&&0!==d[t]){let n=0;for(let o=t;o<s;o++)n+=r.get(o,t)*r.get(o,e);n=-n/r.get(t,t);for(let o=t;o<s;o++)r.set(o,e,r.get(o,e)+n*r.get(o,t))}w[e]=r.get(t,e)}if(h&&t<M)for(let e=t;e<s;e++)v.set(e,t,r.get(e,t));if(t<S){w[t]=0;for(let e=t+1;e<u;e++)w[t]=(0,i.hypotenuse)(w[t],w[e]);if(0!==w[t]){w[t+1]<0&&(w[t]=0-w[t]);for(let e=t+1;e<u;e++)w[e]/=w[t];w[t+1]+=1}if(w[t]=-w[t],t+1<s&&0!==w[t]){for(let e=t+1;e<s;e++)b[e]=0;for(let e=t+1;e<s;e++)for(let n=t+1;n<u;n++)b[e]+=w[n]*r.get(e,n);for(let e=t+1;e<u;e++){let n=-w[e]/w[t+1];for(let o=t+1;o<s;o++)r.set(o,e,r.get(o,e)+n*b[o])}}if(f)for(let e=t+1;e<u;e++)y.set(e,t,w[e])}}let E=Math.min(u,s+1);if(M<u&&(d[M]=r.get(M,M)),s<E&&(d[E-1]=0),S+1<E&&(w[S]=r.get(S,E-1)),w[E-1]=0,h){for(let t=M;t<m;t++){for(let e=0;e<s;e++)v.set(e,t,0);v.set(t,t,1)}for(let t=M-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<m;e++){let r=0;for(let n=t;n<s;n++)r+=v.get(n,t)*v.get(n,e);r=-r/v.get(t,t);for(let n=t;n<s;n++)v.set(n,e,v.get(n,e)+r*v.get(n,t))}for(let e=t;e<s;e++)v.set(e,t,-v.get(e,t));v.set(t,t,1+v.get(t,t));for(let e=0;e<t-1;e++)v.set(e,t,0)}else{for(let e=0;e<s;e++)v.set(e,t,0);v.set(t,t,1)}}if(f)for(let t=u-1;t>=0;t--){if(t<S&&0!==w[t])for(let e=t+1;e<u;e++){let r=0;for(let n=t+1;n<u;n++)r+=y.get(n,t)*y.get(n,e);r=-r/y.get(t+1,t);for(let n=t+1;n<u;n++)y.set(n,e,y.get(n,e)+r*y.get(n,t))}for(let e=0;e<u;e++)y.set(e,t,0);y.set(t,t,1)}let _=E-1,N=0,R=Number.EPSILON;for(;E>0;){let t,e;for(t=E-2;t>=-1&&-1!==t;t--){let e=Number.MIN_VALUE+R*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(w[t])<=e||Number.isNaN(w[t])){w[t]=0;break}}if(t===E-2)e=4;else{let r;for(r=E-1;r>=t&&r!==t;r--){let e=(r!==E?Math.abs(w[r]):0)+(r!==t+1?Math.abs(w[r-1]):0);if(Math.abs(d[r])<=R*e){d[r]=0;break}}r===t?e=3:r===E-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=w[E-2];w[E-2]=0;for(let r=E-2;r>=t;r--){let n=(0,i.hypotenuse)(d[r],e),o=d[r]/n,s=e/n;if(d[r]=n,r!==t&&(e=-s*w[r-1],w[r-1]=o*w[r-1]),f)for(let t=0;t<u;t++)n=o*y.get(t,r)+s*y.get(t,E-1),y.set(t,E-1,-s*y.get(t,r)+o*y.get(t,E-1)),y.set(t,r,n)}break}case 2:{let e=w[t-1];w[t-1]=0;for(let r=t;r<E;r++){let n=(0,i.hypotenuse)(d[r],e),o=d[r]/n,u=e/n;if(d[r]=n,e=-u*w[r],w[r]=o*w[r],h)for(let e=0;e<s;e++)n=o*v.get(e,r)+u*v.get(e,t-1),v.set(e,t-1,-u*v.get(e,r)+o*v.get(e,t-1)),v.set(e,r,n)}break}case 3:{let e=Math.max(Math.abs(d[E-1]),Math.abs(d[E-2]),Math.abs(w[E-2]),Math.abs(d[t]),Math.abs(w[t])),r=d[E-1]/e,n=d[E-2]/e,o=w[E-2]/e,a=d[t]/e,l=w[t]/e,c=((n+r)*(n-r)+o*o)/2,p=r*o*(r*o),m=0;(0!==c||0!==p)&&(m=c<0?0-Math.sqrt(c*c+p):Math.sqrt(c*c+p),m=p/(c+m));let g=(a+r)*(a-r)+m,b=a*l;for(let e=t;e<E-1;e++){let r=(0,i.hypotenuse)(g,b);0===r&&(r=Number.MIN_VALUE);let n=g/r,o=b/r;if(e!==t&&(w[e-1]=r),g=n*d[e]+o*w[e],w[e]=n*w[e]-o*d[e],b=o*d[e+1],d[e+1]=n*d[e+1],f)for(let t=0;t<u;t++)r=n*y.get(t,e)+o*y.get(t,e+1),y.set(t,e+1,-o*y.get(t,e)+n*y.get(t,e+1)),y.set(t,e,r);if(0===(r=(0,i.hypotenuse)(g,b))&&(r=Number.MIN_VALUE),n=g/r,o=b/r,d[e]=r,g=n*w[e]+o*d[e+1],d[e+1]=-o*w[e]+n*d[e+1],b=o*w[e+1],w[e+1]=n*w[e+1],h&&e<s-1)for(let t=0;t<s;t++)r=n*v.get(t,e)+o*v.get(t,e+1),v.set(t,e+1,-o*v.get(t,e)+n*v.get(t,e+1)),v.set(t,e,r)}w[E-2]=g;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,f))for(let e=0;e<=_;e++)y.set(e,t,-y.get(e,t));for(;t<_&&!(d[t]>=d[t+1]);){;let e=d[t];if(d[t]=d[t+1],d[t+1]=e,f&&t<u-1)for(let r=0;r<u;r++)e=y.get(r,t+1),y.set(r,t+1,y.get(r,t)),y.set(r,t,e);if(h&&t<s-1)for(let r=0;r<s;r++)e=v.get(r,t+1),v.set(r,t+1,v.get(r,t)),v.set(r,t,e);t++}N=0,E--}}if(p){let t=y;y=v,v=t}this.m=s,this.n=u,this.s=d,this.U=v,this.V=y}solve(t){let e=this.threshold,r=this.s.length,o=n.default.zeros(r,r);for(let t=0;t<r;t++)Math.abs(this.s[t])<=e?o.set(t,t,0):o.set(t,t,1/this.s[t]);let i=this.U,s=this.rightSingularVectors,u=s.mmul(o),a=s.rows,l=i.rows,c=n.default.zeros(a,l);for(let t=0;t<a;t++)for(let e=0;e<l;e++){let n=0;for(let o=0;o<r;o++)n+=u.get(t,o)*i.get(e,o);c.set(t,e,n)}return c.mmul(t)}solveForDiagonal(t){return this.solve(n.default.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,o=t.columns,i=new n.default(r,this.s.length);for(let n=0;n<r;n++)for(let r=0;r<o;r++)Math.abs(this.s[r])>e&&i.set(n,r,t.get(n,r)/this.s[r]);let s=this.U,u=s.rows,a=s.columns,l=new n.default(r,u);for(let t=0;t<r;t++)for(let e=0;e<u;e++){let r=0;for(let n=0;n<a;n++)r+=i.get(t,n)*s.get(e,n);l.set(t,e,r)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,o=r.length;n<o;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return n.default.diag(this.s)}}},897291:function(t,e,r){"use strict";function n(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}r.r(e),r.d(e,{hypotenuse:function(){return n}})},242462:function(t,e,r){"use strict";r.r(e),r.d(e,{inverse:function(){return a}});var n=r("889873"),o=r("190600"),i=r("239924"),s=r("6224"),u=r("535581");function a(t,e=!1){return(t=u.default.checkMatrix(t),e)?new(0,i.default)(t).inverse():function(t,e,r=!1){return(t=u.default.checkMatrix(t),e=u.default.checkMatrix(e),r)?new(0,i.default)(t).solve(e):t.isSquare()?new(0,n.default)(t).solve(e):new(0,o.default)(t).solve(e)}(t,s.default.eye(t.rows))}},407885:function(t,e,r){"use strict";r.r(e),r.d(e,{Matrix:function(){return n.default}}),r.d(e,{inverse:function(){return o.inverse}});var n=r("6224"),o=r("242462")},330948:function(t,e,r){"use strict";r.r(e),r.d(e,{inspectMatrix:function(){return i},inspectMatrixWithOptions:function(){return s}});let n=" ".repeat(2),o=" ".repeat(4);function i(){return s(this)}function s(t,e={}){let{maxRows:r=15,maxColumns:i=10,maxNumSize:s=8,padMinus:a="auto"}=e;return`${t.constructor.name} {
${n}[
${o}${function(t,e,r,n,i){let{rows:s,columns:a}=t,l=Math.min(s,e),c=Math.min(a,r),h=[];if("auto"===i){i=!1;t:for(let e=0;e<l;e++)for(let r=0;r<c;r++)if(0>t.get(e,r)){i=!0;break t}}for(let e=0;e<l;e++){let r=[];for(let o=0;o<c;o++)r.push(function(t,e,r){return(t>=0&&r?` ${u(t,e-1)}`:u(t,e)).padEnd(e)}(t.get(e,o),n,i));h.push(`${r.join(" ")}`)}return c!==a&&(h[h.length-1]+=` ... ${a-r} more columns`),l!==s&&h.push(`... ${s-e} more rows`),h.join(`
${o}`)}(t,r,i,s,a)}
${n}]
${n}rows: ${t.rows}
${n}columns: ${t.columns}
}`}function u(t,e){let r=t.toString();if(r.length<=e)return r;let n=t.toFixed(e);if(n.length>e&&(n=t.toFixed(Math.max(0,e-(n.length-e)))),n.length<=e&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let o=t.toExponential(e);return o.length>e&&(o=t.toExponential(Math.max(0,e-(o.length-e)))),o.slice(0)}},352222:function(t,e,r){"use strict";function n(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){let n=new e(t);return n.add(r)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){let n=new e(t);return n.sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){let n=new e(t);return n.mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){let n=new e(t);return n.div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){let n=new e(t);return n.mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){let n=new e(t);return n.and(r)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){let n=new e(t);return n.or(r)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){let n=new e(t);return n.xor(r)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){let n=new e(t);return n.leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){let n=new e(t);return n.signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){let n=new e(t);return n.rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){let r=new e(t);return r.not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){let r=new e(t);return r.abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){let r=new e(t);return r.acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){let r=new e(t);return r.acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){let r=new e(t);return r.asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){let r=new e(t);return r.asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){let r=new e(t);return r.atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){let r=new e(t);return r.atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){let r=new e(t);return r.cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){let r=new e(t);return r.ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){let r=new e(t);return r.clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){let r=new e(t);return r.cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){let r=new e(t);return r.cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){let r=new e(t);return r.exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){let r=new e(t);return r.expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){let r=new e(t);return r.floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){let r=new e(t);return r.fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){let r=new e(t);return r.log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){let r=new e(t);return r.log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){let r=new e(t);return r.log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){let r=new e(t);return r.log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){let r=new e(t);return r.round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){let r=new e(t);return r.sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){let r=new e(t);return r.sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){let r=new e(t);return r.sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){let r=new e(t);return r.sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){let r=new e(t);return r.tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){let r=new e(t);return r.tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){let r=new e(t);return r.trunc()},t.pow=function(t,r){let n=new e(t);return n.pow(r)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this}}r.r(e),r.d(e,{installMathOperations:function(){return n}})},6224:function(t,e,r){"use strict";r.r(e),r.d(e,{AbstractMatrix:function(){return l},default:function(){return h}});var n=r("709057"),o=r("295132"),i=r("330948"),s=r("352222"),u=r("564002"),a=r("465341");class l{static from1DArray(t,e,r){if(t*e!==r.length)throw RangeError("data length does not match given dimensions");let n=new h(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)n.set(o,t,r[o*e+t]);return n}static rowVector(t){let e=new h(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new h(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new h(t,e)}static ones(t,e){return new h(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw TypeError("options must be an object");let{random:n=Math.random}=r,o=new h(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)o.set(r,t,n());return o}static randInt(t,e,r={}){if("object"!=typeof r)throw TypeError("options must be an object");let{min:n=0,max:o=1e3,random:i=Math.random}=r;if(!Number.isInteger(n))throw TypeError("min must be an integer");if(!Number.isInteger(o))throw TypeError("max must be an integer");if(n>=o)throw RangeError("min must be smaller than max");let s=o-n,u=new h(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=n+Math.round(i()*s);u.set(r,t,e)}return u}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),o=this.zeros(t,e);for(let t=0;t<n;t++)o.set(t,t,r);return o}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let o=Math.min(n,e,r),i=this.zeros(e,r);for(let e=0;e<o;e++)i.set(e,e,t[e]);return i}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new h(r,n);for(let i=0;i<r;i++)for(let r=0;r<n;r++)o.set(i,r,Math.min(t.get(i,r),e.get(i,r)));return o}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new this(r,n);for(let i=0;i<r;i++)for(let r=0;r<n;r++)o.set(i,r,Math.max(t.get(i,r),e.get(i,r)));return o}static checkMatrix(t){return l.isMatrix(t)?t:new h(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;for(;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;for(;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let n=e;for(let o=e;o<t.rows;o++)t.get(o,r)>t.get(n,r)&&(n=o);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let o=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/o);for(let n=e+1;n<t.rows;n++){let o=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let i=r+1;i<t.columns;i++)t.set(n,i,t.get(n,i)-t.get(e,i)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;for(;n>=0;)if(0===t.maxRow(n))n--;else{let o=0,i=!1;for(;o<r&&!1===i;)1===t.get(n,o)?i=!0:o++;for(let r=0;r<n;r++){let i=t.get(r,o);for(let s=o;s<e;s++){let e=t.get(r,s)-i*t.get(n,s);t.set(r,s,e)}}n--}return t}set(){throw Error("set method is unimplemented")}get(){throw Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw TypeError("columns must be a positive integer");let n=new h(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)n.setSubMatrix(this,this.rows*t,this.columns*e);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){(0,a.checkRowIndex)(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return h.rowVector(this.getRow(t))}setRow(t,e){(0,a.checkRowIndex)(this,t),e=(0,a.checkRowVector)(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){(0,a.checkRowIndex)(this,t),(0,a.checkRowIndex)(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){(0,a.checkColumnIndex)(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return h.columnVector(this.getColumn(t))}setColumn(t,e){(0,a.checkColumnIndex)(this,t),e=(0,a.checkColumnVector)(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){(0,a.checkColumnIndex)(this,t),(0,a.checkColumnIndex)(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=(0,a.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=(0,a.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=(0,a.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=(0,a.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=(0,a.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=(0,a.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=(0,a.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=(0,a.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){(0,a.checkRowIndex)(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){(0,a.checkColumnIndex)(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{let t=Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{let t=Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw Error(`invalid option: ${t}`)}}maxIndex(){(0,a.checkNonEmpty)(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{let t=Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{let t=Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw Error(`invalid option: ${t}`)}}minIndex(){(0,a.checkNonEmpty)(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){if((0,a.checkRowIndex)(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){(0,a.checkRowIndex)(this,t),(0,a.checkNonEmpty)(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){if((0,a.checkRowIndex)(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){(0,a.checkRowIndex)(this,t),(0,a.checkNonEmpty)(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){if((0,a.checkColumnIndex)(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){(0,a.checkColumnIndex)(this,t),(0,a.checkNonEmpty)(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){if((0,a.checkColumnIndex)(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){(0,a.checkColumnIndex)(this,t),(0,a.checkNonEmpty)(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r)*this.get(t,r);return Math.sqrt(e)}throw RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){l.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=h.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,o=new h(e,n),i=new Float64Array(r);for(let s=0;s<n;s++){for(let e=0;e<r;e++)i[e]=t.get(e,s);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*i[n];o.set(t,s,e)}}return o}strassen2x2(t){t=h.checkMatrix(t);let e=new h(2,2),r=this.get(0,0),n=t.get(0,0),o=this.get(0,1),i=t.get(0,1),s=this.get(1,0),u=t.get(1,0),a=this.get(1,1),l=t.get(1,1),c=(r+a)*(n+l),f=(s+a)*n,p=r*(i-l),m=a*(u-n),g=(r+o)*l;return e.set(0,0,c+m-g+(o-a)*(u+l)),e.set(0,1,p+g),e.set(1,0,f+m),e.set(1,1,c-f+p+(s-r)*(n+i)),e}strassen3x3(t){t=h.checkMatrix(t);let e=new h(3,3),r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),i=this.get(1,0),s=this.get(1,1),u=this.get(1,2),a=this.get(2,0),l=this.get(2,1),c=this.get(2,2),f=t.get(0,0),p=t.get(0,1),m=t.get(0,2),g=t.get(1,0),d=t.get(1,1),v=t.get(1,2),y=t.get(2,0),w=t.get(2,1),b=t.get(2,2),x=(r-i)*(-p+d),M=(-r+i+s)*(f-p+d),S=(i+s)*(-f+p),k=r*f,E=(-r+a+l)*(f-m+v),_=(-r+a)*(m-v),N=(a+l)*(-f+m),R=(-o+l+c)*(d+y-w),A=(o-c)*(d-w),j=o*y,z=(l+c)*(-y+w),I=(-o+s+u)*(v+y-b),C=(o-u)*(v-b),O=(s+u)*(-y+b);return e.set(0,0,k+j+n*g),e.set(0,1,(r+n+o-i-s-l-c)*d+M+S+k+R+j+z),e.set(0,2,k+E+N+(r+n+o-s-u-a-l)*v+j+I+O),e.set(1,0,x+s*(-f+p+g-d-v-y+b)+M+k+j+I+C),e.set(1,1,x+M+S+k+u*w),e.set(1,2,j+I+C+O+i*m),e.set(2,0,k+E+_+l*(-f+m+g-d-v-y+w)+R+A+j),e.set(2,1,R+A+j+z+a*p),e.set(2,2,k+E+_+N+c*b),e}mmulStrassen(t){t=h.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,o=t.rows,i=t.columns;function s(t,e,r){let n=t.rows,o=t.columns;if(n===e&&o===r)return t;{let n=l.zeros(e,r);return n=n.setSubMatrix(t,0,0)}}n!==o&&console.warn(`Multiplying ${r} x ${n} and ${o} x ${i} matrix: dimensions do not match.`);let u=Math.max(r,o),a=Math.max(n,i);return e=s(e,u,a),t=s(t,u,a),function t(e,r,n,o){if(n<=512||o<=512)return e.mmul(r);n%2==1&&o%2==1?(e=s(e,n+1,o+1),r=s(r,n+1,o+1)):n%2==1?(e=s(e,n+1,o),r=s(r,n+1,o)):o%2==1&&(e=s(e,n,o+1),r=s(r,n,o+1));let i=parseInt(e.rows/2,10),u=parseInt(e.columns/2,10),a=e.subMatrix(0,i-1,0,u-1),c=r.subMatrix(0,i-1,0,u-1),h=e.subMatrix(0,i-1,u,e.columns-1),f=r.subMatrix(0,i-1,u,r.columns-1),p=e.subMatrix(i,e.rows-1,0,u-1),m=r.subMatrix(i,r.rows-1,0,u-1),g=e.subMatrix(i,e.rows-1,u,e.columns-1),d=r.subMatrix(i,r.rows-1,u,r.columns-1),v=t(l.add(a,g),l.add(c,d),i,u),y=t(l.add(p,g),c,i,u),w=t(a,l.sub(f,d),i,u),b=t(g,l.sub(m,c),i,u),x=t(l.add(a,h),d,i,u),M=t(l.sub(p,a),l.add(c,f),i,u),S=t(l.sub(h,g),l.add(m,d),i,u),k=l.add(v,b);k.sub(x),k.add(S);let E=l.add(w,x),_=l.add(y,b),N=l.sub(v,y);N.add(w),N.add(M);let R=l.zeros(2*k.rows,2*k.columns);return(R=(R=(R=(R=R.setSubMatrix(k,0,0)).setSubMatrix(E,k.rows,0)).setSubMatrix(_,0,k.columns)).setSubMatrix(N,k.rows,k.columns)).subMatrix(0,n-1,0,o-1)}(e,t,u,a)}scaleRows(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw TypeError("min must be a number");if(!Number.isFinite(r))throw TypeError("max must be a number");if(e>=r)throw RangeError("min must be smaller than max");let n=new h(this.rows,this.columns);for(let t=0;t<this.rows;t++){let i=this.getRow(t);i.length>0&&(0,o.default)(i,{min:e,max:r,output:i}),n.setRow(t,i)}return n}scaleColumns(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw TypeError("min must be a number");if(!Number.isFinite(r))throw TypeError("max must be a number");if(e>=r)throw RangeError("min must be smaller than max");let n=new h(this.rows,this.columns);for(let t=0;t<this.columns;t++){let i=this.getColumn(t);i.length&&(0,o.default)(i,{min:e,max:r,output:i}),n.setColumn(t,i)}return n}flipRows(){let t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){let t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=h.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,o=t.columns,i=new h(e*n,r*o);for(let s=0;s<e;s++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let u=0;u<o;u++)i.set(n*s+r,o*e+u,this.get(s,e)*t.get(r,u));return i}kroneckerSum(t){if(t=h.checkMatrix(t),!this.isSquare()||!t.isSquare())throw Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,n=this.kroneckerProduct(h.eye(r,r)),o=h.eye(e,e).kroneckerProduct(t);return n.add(o)}transpose(){let t=new h(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=c){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=c){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){(0,a.checkRange)(this,t,e,r,n);let o=new h(e-t+1,n-r+1);for(let i=t;i<=e;i++)for(let e=r;e<=n;e++)o.set(i-t,e-r,this.get(i,e));return o}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw RangeError("Argument out of range");let n=new h(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw RangeError(`Row index out of range: ${t[o]}`);n.set(o,i-e,this.get(t[o],i))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw RangeError("Argument out of range");let n=new h(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw RangeError(`Column index out of range: ${t[o]}`);n.set(i-e,o,this.get(i,t[o]))}return n}setSubMatrix(t,e,r){if((t=h.checkMatrix(t)).isEmpty())return this;let n=e+t.rows-1,o=r+t.columns-1;(0,a.checkRange)(this,e,n,r,o);for(let n=0;n<t.rows;n++)for(let o=0;o<t.columns;o++)this.set(e+n,r+o,t.get(n,o));return this}selection(t,e){(0,a.checkRowIndices)(this,t),(0,a.checkColumnIndices)(this,e);let r=new h(t.length,e.length);for(let n=0;n<t.length;n++){let o=t[n];for(let t=0;t<e.length;t++){let i=e[t];r.set(n,t,this.get(o,i))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){let t=new h(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}sum(t){switch(t){case"row":return(0,u.sumByRow)(this);case"column":return(0,u.sumByColumn)(this);case void 0:return(0,u.sumAll)(this);default:throw Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return(0,u.productByRow)(this);case"column":return(0,u.productByColumn)(this);case void 0:return(0,u.productAll)(this);default:throw Error(`invalid option: ${t}`)}}mean(t){let e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let{unbiased:r=!0,mean:o=this.mean(t)}=e;if("boolean"!=typeof r)throw TypeError("unbiased must be a boolean");switch(t){case"row":if(!(0,n.isAnyArray)(o))throw TypeError("mean must be an array");return(0,u.varianceByRow)(this,r,o);case"column":if(!(0,n.isAnyArray)(o))throw TypeError("mean must be an array");return(0,u.varianceByColumn)(this,r,o);case void 0:if("number"!=typeof o)throw TypeError("mean must be a number");return(0,u.varianceAll)(this,r,o);default:throw Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);let r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let{center:r=this.mean(t)}=e;switch(t){case"row":if(!(0,n.isAnyArray)(r))throw TypeError("center must be an array");return(0,u.centerByRow)(this,r),this;case"column":if(!(0,n.isAnyArray)(r))throw TypeError("center must be an array");return(0,u.centerByColumn)(this,r),this;case void 0:if("number"!=typeof r)throw TypeError("center must be a number");return(0,u.centerAll)(this,r),this;default:throw Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=(0,u.getScaleByRow)(this);else if(!(0,n.isAnyArray)(r))throw TypeError("scale must be an array");return(0,u.scaleByRow)(this,r),this;case"column":if(void 0===r)r=(0,u.getScaleByColumn)(this);else if(!(0,n.isAnyArray)(r))throw TypeError("scale must be an array");return(0,u.scaleByColumn)(this,r),this;case void 0:if(void 0===r)r=(0,u.getScaleAll)(this);else if("number"!=typeof r)throw TypeError("scale must be a number");return(0,u.scaleAll)(this,r),this;default:throw Error(`invalid option: ${t}`)}}toString(t){return(0,i.inspectMatrixWithOptions)(this,t)}}function c(t,e){return t-e}l.prototype.klass="Matrix","undefined"!=typeof Symbol&&(l.prototype[Symbol.for("nodejs.util.inspect.custom")]=i.inspectMatrix);l.random=l.rand,l.randomInt=l.randInt,l.diagonal=l.diag,l.prototype.diagonal=l.prototype.diag,l.identity=l.eye,l.prototype.negate=l.prototype.neg,l.prototype.tensorProduct=l.prototype.kroneckerProduct;class h extends l{constructor(t,e){if(super(),h.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0){if(this.data=[],Number.isInteger(e)&&e>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(e));else throw TypeError("nColumns must be a positive integer")}else if((0,n.isAnyArray)(t)){let r=t;if("number"!=typeof(e=(t=r.length)?r[0].length:0))throw TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw RangeError("Inconsistent array dimensions");if(!r[n].every(t=>"number"==typeof t))throw TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[n]))}}else throw TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=e}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return(0,a.checkRowIndex)(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),(0,a.checkRowIndex)(this,t,!0),e=Float64Array.from((0,a.checkRowVector)(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){(0,a.checkColumnIndex)(this,t);for(let e=0;e<this.rows;e++){let r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),(0,a.checkColumnIndex)(this,t,!0),e=(0,a.checkColumnVector)(this,e);for(let r=0;r<this.rows;r++){let n=new Float64Array(this.columns+1),o=0;for(;o<t;o++)n[o]=this.data[r][o];for(n[o++]=e[r];o<this.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}(0,s.installMathOperations)(l,h)},564002:function(t,e,r){"use strict";r.r(e),r.d(e,{sumByRow:function(){return o},sumByColumn:function(){return i},sumAll:function(){return s},productByRow:function(){return u},productByColumn:function(){return a},productAll:function(){return l},varianceByRow:function(){return c},varianceByColumn:function(){return h},varianceAll:function(){return f},centerByRow:function(){return p},centerByColumn:function(){return m},centerAll:function(){return g},getScaleByRow:function(){return d},scaleByRow:function(){return v},getScaleByColumn:function(){return y},scaleByColumn:function(){return w},getScaleAll:function(){return b},scaleAll:function(){return x}});var n=r("465341");function o(t){let e=(0,n.newArray)(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}function i(t){let e=(0,n.newArray)(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}function s(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}function u(t){let e=(0,n.newArray)(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}function a(t){let e=(0,n.newArray)(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}function l(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}function c(t,e,r){let n=t.rows,o=t.columns,i=[];for(let s=0;s<n;s++){let n=0,u=0,a=0;for(let e=0;e<o;e++)n+=a=t.get(s,e)-r[s],u+=a*a;e?i.push((u-n*n/o)/(o-1)):i.push((u-n*n/o)/o)}return i}function h(t,e,r){let n=t.rows,o=t.columns,i=[];for(let s=0;s<o;s++){let o=0,u=0,a=0;for(let e=0;e<n;e++)o+=a=t.get(e,s)-r[s],u+=a*a;e?i.push((u-o*o/n)/(n-1)):i.push((u-o*o/n)/n)}return i}function f(t,e,r){let n=t.rows,o=t.columns,i=n*o,s=0,u=0,a=0;for(let e=0;e<n;e++)for(let n=0;n<o;n++)s+=a=t.get(e,n)-r,u+=a*a;return e?(u-s*s/i)/(i-1):(u-s*s/i)/i}function p(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function m(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function g(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}function d(t){let e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=Math.pow(t.get(r,e),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}function v(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}function y(t){let e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=Math.pow(t.get(e,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}function w(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}function b(t){let e=t.size-1,r=0;for(let n=0;n<t.columns;n++)for(let o=0;o<t.rows;o++)r+=Math.pow(t.get(o,n),2)/e;return Math.sqrt(r)}function x(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}},465341:function(t,e,r){"use strict";r.r(e),r.d(e,{checkRowIndex:function(){return o},checkColumnIndex:function(){return i},checkRowVector:function(){return s},checkColumnVector:function(){return u},checkRowIndices:function(){return a},checkColumnIndices:function(){return l},checkRange:function(){return c},newArray:function(){return h},checkNonEmpty:function(){return p}});var n=r("709057");function o(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw RangeError("Row index out of range")}function i(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw RangeError("Column index out of range")}function s(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw RangeError("vector size must be the same as the number of columns");return e}function u(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw RangeError("vector size must be the same as the number of rows");return e}function a(t,e){if(!(0,n.isAnyArray)(e))throw TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw RangeError("row indices are out of range")}function l(t,e){if(!(0,n.isAnyArray)(e))throw TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw RangeError("column indices are out of range")}function c(t,e,r,n,o){if(5!=arguments.length)throw RangeError("expected 4 arguments");if(f("startRow",e),f("endRow",r),f("startColumn",n),f("endColumn",o),e>r||n>o||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||o<0||o>=t.columns)throw RangeError("Submatrix indices are out of range")}function h(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function f(t,e){if("number"!=typeof e)throw TypeError(`${t} must be a number`)}function p(t){if(t.isEmpty())throw Error("Empty matrix has no elements to index")}},535581:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("6224");class o extends n.AbstractMatrix{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}},235390:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("32519"));function i(t,e){var r=function(r){return o.empty(t).map(function(){return o.filled(e,r)})},n=[];return n.push(r(-1)),n.push(r(1/0)),n.push(r(0)),n}e.makeHeap=i;function s(t,e,r,n,o){e=Math.floor(e);var i=t[0][e];if(t[2][e],r>=t[1][e][0])return 0;for(var s=0;s<i.length;s++)if(n===i[s])return 0;return u(t,e,r,n,o)}function u(t,e,r,n,o){var i=t[0][e],s=t[1][e],u=t[2][e];if(r>=s[0])return 0;s[0]=r,i[0]=n,u[0]=o;for(var a=0,l=0;;){var c=2*a+1,h=c+1,f=t[0][0].length;if(c>=f)break;if(h>=f){if(s[c]>r)l=c;else break}else if(s[c]>=s[h]){if(r<s[c])l=c;else break}else if(r<s[h])l=h;else break;s[a]=s[l],i[a]=i[l],u[a]=u[l],a=l}return s[a]=r,i[a]=n,u[a]=o,1}e.rejectionSample=function(t,e,r){for(var n=o.zeros(t),i=0;i<t;i++){for(var s=!0,u=0;s;){u=o.tauRandInt(e,r);for(var a=!1,l=0;l<i;l++)if(u===n[l]){a=!0;break}!a&&(s=!1)}n[i]=u}return n},e.heapPush=s,e.uncheckedHeapPush=u;e.buildCandidates=function(t,e,r,n,u){for(var a=i(e,n),l=0;l<e;l++)for(var c=0;c<r;c++)if(!(t[0][l][c]<0)){var h=t[0][l][c],f=t[2][l][c],p=o.tauRand(u);s(a,l,p,h,f),s(a,h,p,l,f),t[2][l][c]=0}return a};e.deheapSort=function(t){for(var e=t[0],r=t[1],n=0;n<e.length;n++){for(var o=e[n],i=r[n],s=0;s<o.length-1;s++){var u=o.length-s-1,a=i.length-s-1,l=o[0];o[0]=o[u],o[u]=l;var c=i[0];i[0]=i[a],i[a]=c,function(t,e,r,n){for(;2*n+1<r;){var o=2*n+1,i=o+1,s=n;if(t[s]<t[o]&&(s=o),i<r&&t[s]<t[i]&&(s=i),s===n)break;var u=t[n];t[n]=t[s],t[s]=u;var a=e[n];e[n]=e[s],e[s]=a,n=s}}(i,o,a,0)}}return{indices:e,weights:r}};e.smallestFlagged=function(t,e){for(var r=t[0][e],n=t[1][e],o=t[2][e],i=1/0,s=-1,u=0;u>r.length;u++)1===o[u]&&n[u]<i&&(i=n[u],s=u);return s>=0?(o[s]=0,Math.floor(r[s])):-1}},507566:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("183232");e.UMAP=n.UMAP},993064:function(t,e,r){"use strict";var n,o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var u=s(r("32519")),a=function(){function t(t,e,r,n){if(this.entries=new Map,this.nRows=0,this.nCols=0,t.length!==e.length||t.length!==r.length)throw Error("rows, cols and values arrays must all have the same length");this.nRows=n[0],this.nCols=n[1];for(var o=0;o<r.length;o++){var i=t[o],s=e[o];this.checkDims(i,s);var u=this.makeKey(i,s);this.entries.set(u,{value:r[o],row:i,col:s})}}return t.prototype.makeKey=function(t,e){return t+":"+e},t.prototype.checkDims=function(t,e){if(!(t<this.nRows&&e<this.nCols))throw Error("row and/or col specified outside of matrix dimensions")},t.prototype.set=function(t,e,r){this.checkDims(t,e);var n=this.makeKey(t,e);this.entries.has(n)?this.entries.get(n).value=r:this.entries.set(n,{value:r,row:t,col:e})},t.prototype.get=function(t,e,r){void 0===r&&(r=0),this.checkDims(t,e);var n=this.makeKey(t,e);return this.entries.has(n)?this.entries.get(n).value:r},t.prototype.getAll=function(t){void 0===t&&(t=!0);var e=[];return this.entries.forEach(function(t){e.push(t)}),t&&e.sort(function(t,e){return t.row===e.row?t.col-e.col:t.row-e.row}),e},t.prototype.getDims=function(){return[this.nRows,this.nCols]},t.prototype.getRows=function(){return Array.from(this.entries,function(t){var e=o(t,2);return(e[0],e[1]).row})},t.prototype.getCols=function(){return Array.from(this.entries,function(t){var e=o(t,2);return(e[0],e[1]).col})},t.prototype.getValues=function(){return Array.from(this.entries,function(t){var e=o(t,2);return(e[0],e[1]).value})},t.prototype.forEach=function(t){this.entries.forEach(function(e){return t(e.value,e.row,e.col)})},t.prototype.map=function(e){var r=[];this.entries.forEach(function(t){r.push(e(t.value,t.row,t.col))});var n=[this.nRows,this.nCols];return new t(this.getRows(),this.getCols(),r,n)},t.prototype.toArray=function(){var t=this,e=u.empty(this.nRows).map(function(){return u.zeros(t.nCols)});return this.entries.forEach(function(t){e[t.row][t.col]=t.value}),e},t}();e.SparseMatrix=a;e.transpose=function(t){var e=[],r=[],n=[];t.forEach(function(t,o,i){e.push(o),r.push(i),n.push(t)});var o=[t.nCols,t.nRows];return new a(r,e,n,o)};e.identity=function(t){for(var e=o(t,1)[0],r=new a([],[],[],t),n=0;n<e;n++)r.set(n,n,1);return r};e.pairwiseMultiply=function(t,e){return c(t,e,function(t,e){return t*e})};e.add=function(t,e){return c(t,e,function(t,e){return t+e})};e.subtract=function(t,e){return c(t,e,function(t,e){return t-e})};e.maximum=function(t,e){return c(t,e,function(t,e){return t>e?t:e})};e.multiplyScalar=function(t,e){return t.map(function(t){return t*e})};e.eliminateZeros=function(t){for(var e=new Set,r=t.getValues(),n=t.getRows(),o=t.getCols(),i=0;i<r.length;i++)0===r[i]&&e.add(i);var s=function(t,r){return!e.has(r)},u=r.filter(s),l=n.filter(s),c=o.filter(s);return new a(l,c,u,t.getDims())};e.normalize=function(t,e){void 0===e&&(e="l2");var r,n,o=l[e],s=new Map;t.forEach(function(t,e,r){var n=s.get(e)||[];n.push(r),s.set(e,n)});var u=new a([],[],[],t.getDims()),c=function(e){for(var r=s.get(e).sort(),n=o(r.map(function(r){return t.get(e,r)})),i=0;i<n.length;i++)u.set(e,r[i],n[i])};try{for(var h=i(s.keys()),f=h.next();!f.done;f=h.next()){var p=f.value;c(p)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return u};var l=((n={}).max=function(t){for(var e=-1/0,r=0;r<t.length;r++)e=t[r]>e?t[r]:e;return t.map(function(t){return t/e})},n.l1=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return t.map(function(t){return t/e})},n.l2=function(t){for(var e=0,r=0;r<t.length;r++)e+=Math.pow(t[r],2);return t.map(function(t){return Math.sqrt(Math.pow(t,2)/e)})},n);function c(t,e,r){for(var n=new Set,o=[],i=[],s=[],u=function(n,u){o.push(n),i.push(u);var a=r(t.get(n,u),e.get(n,u));s.push(a)},l=t.getValues(),c=t.getRows(),h=t.getCols(),f=0;f<l.length;f++){var p=c[f],m=h[f],g=p+":"+m;n.add(g),u(p,m)}for(var d=e.getValues(),v=e.getRows(),y=e.getCols(),f=0;f<d.length;f++){var p=v[f],m=y[f],g=p+":"+m;!n.has(g)&&u(p,m)}var w=[t.nRows,t.nCols];return new a(o,i,s,w)}e.getCSR=function(t){var e=[];t.forEach(function(t,r,n){e.push({value:t,row:r,col:n})}),e.sort(function(t,e){return t.row===e.row?t.col-e.col:t.row-e.row});for(var r=[],n=[],o=[],i=-1,s=0;s<e.length;s++){var u=e[s],a=u.row,l=u.col,c=u.value;a!==i&&(i=a,o.push(s)),r.push(l),n.push(c)}return{indices:r,values:n,indptr:o}}},268552:function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=o(r("235390")),s=o(r("993064")),u=o(r("139108")),a=o(r("32519"));e.makeNNDescent=function(t,e){return function(r,n,o,s,u,l,c,h){void 0===s&&(s=10),void 0===u&&(u=50),void 0===l&&(l=.001),void 0===c&&(c=.5),void 0===h&&(h=!0);for(var f=r.length,p=i.makeHeap(r.length,o),m=0;m<r.length;m++){for(var g=i.rejectionSample(o,r.length,e),d=0;d<g.length;d++){var v=t(r[m],r[g[d]]);i.heapPush(p,m,v,g[d],1),i.heapPush(p,g[d],v,m,1)}}if(h)for(var y=0;y<n.length;y++)for(var m=0;m<n[y].length&&!(n[y][m]<0);m++)for(var d=m+1;d<n[y].length&&!(n[y][d]<0);d++){var v=t(r[n[y][m]],r[n[y][d]]);i.heapPush(p,n[y][m],v,n[y][d],1),i.heapPush(p,n[y][d],v,n[y][m],1)}for(var y=0;y<s;y++){for(var w=i.buildCandidates(p,f,o,u,e),b=0,m=0;m<f;m++)for(var d=0;d<u;d++){var x=Math.floor(w[0][m][d]);if(!(x<0||a.tauRand(e)<c))for(var M=0;M<u;M++){var S=Math.floor(w[0][m][M]),k=w[2][m][d],E=w[2][m][M];if(!(S<0)&&(k||E)){var v=t(r[x],r[S]);b+=i.heapPush(p,x,v,S,1)+i.heapPush(p,S,v,x,1)}}}if(b<=l*o*r.length)break}return i.deheapSort(p)}};e.makeInitializations=function(t){return{initFromRandom:function(e,r,n,o,s){for(var u=0;u<n.length;u++){for(var l=a.rejectionSample(e,r.length,s),c=0;c<l.length;c++)if(!(l[c]<0)){var h=t(r[l[c]],n[u]);i.heapPush(o,u,h,l[c],1)}}},initFromTree:function(e,r,n,o,s){for(var a=0;a<n.length;a++){for(var l=u.searchFlatTree(n[a],e,s),c=0;c<l.length;c++){if(l[c]<0)return;var h=t(r[l[c]],n[a]);i.heapPush(o,a,h,l[c],1)}}}}};e.makeInitializedNNSearch=function(t){return function(e,r,o,u){for(var a,l,c=s.getCSR(r),h=c.indices,f=c.indptr,p=0;p<u.length;p++){for(var m=new Set(o[0][p]);;){var g=i.smallestFlagged(o,p);if(-1===g)break;var d=h.slice(f[g],f[g+1]);try{for(var v=n(d),y=v.next();!y.done;y=v.next()){var w=y.value;if(!(w===g||-1===w||m.has(w))){var b=t(e[w],u[p]);i.uncheckedHeapPush(o,p,b,w,1),m.add(w)}}}catch(t){a={error:t}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}}}return o}};e.initializeSearch=function(t,e,r,o,s,u,a){var l,c,h=i.makeHeap(r.length,o);if(s(o,e,r,h,a),t)try{for(var f=n(t),p=f.next();!p.done;p=f.next()){var m=p.value;u(m,e,r,h,a)}}catch(t){l={error:t}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return h}},139108:function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var u=s(r("32519")),a=function(t,e,r,n){this.hyperplanes=t,this.offsets=e,this.children=r,this.indices=n};e.FlatTree=a;e.makeForest=function(t,e,r,n){var i=Math.max(10,e);return u.range(r).map(function(e,r){return function(t,e,r,n){void 0===e&&(e=30);var o=u.range(t.length);return function t(e,r,n,o,i){if(void 0===n&&(n=30),r.length>n){var s=function(t,e,r){var n=t[0].length,o=u.tauRandInt(e.length,r),i=u.tauRandInt(e.length,r);i+=o===i?1:0,i%=e.length;for(var s=e[o],a=e[i],l=0,c=u.zeros(n),h=0;h<c.length;h++)c[h]=t[s][h]-t[a][h],l-=c[h]*(t[s][h]+t[a][h])/2;for(var f=0,p=0,m=u.zeros(e.length),h=0;h<e.length;h++){for(var g=l,d=0;d<n;d++)g+=c[d]*t[e[h]][d];0===g?(m[h]=u.tauRandInt(2,r),0===m[h]?f+=1:p+=1):g>0?(m[h]=0,f+=1):(m[h]=1,p+=1)}var v=u.zeros(f),y=u.zeros(p);f=0,p=0;for(var h=0;h<m.length;h++)0===m[h]?(v[f]=e[h],f+=1):(y[p]=e[h],p+=1);return{indicesLeft:v,indicesRight:y,hyperplane:c,offset:l}}(e,r,i),a=s.indicesLeft,l=s.indicesRight,c=s.hyperplane,h=s.offset,f={leftChild:t(e,a,n,o+1,i),rightChild:t(e,l,n,o+1,i),isLeaf:!1,hyperplane:c,offset:h};return f}var f={indices:r,isLeaf:!0};return f}(t,o,e,r,n)}(t,i,r,n)}).map(function(t){return function(t,e){var r=function t(e){return e.isLeaf?1:1+t(e.leftChild)+t(e.rightChild)}(t),n=function t(e){return e.isLeaf?1:t(e.leftChild)+t(e.rightChild)}(t),i=u.range(r).map(function(){return u.zeros(t.hyperplane?t.hyperplane.length:0)}),s=u.zeros(r),l=u.range(r).map(function(){return[-1,-1]}),c=u.range(n).map(function(){return u.range(e).map(function(){return -1})});return function t(e,r,n,i,s,u,a){if(e.isLeaf)return i[u][0]=-a,(l=s[a]).splice.apply(l,o([0,e.indices.length],e.indices)),{nodeNum:u,leafNum:a+=1};r[u]=e.hyperplane,n[u]=e.offset,i[u][0]=u+1;var l,c=u,h=t(e.leftChild,r,n,i,s,u+1,a);return u=h.nodeNum,a=h.leafNum,i[c][1]=u+1,{nodeNum:(h=t(e.rightChild,r,n,i,s,u+1,a)).nodeNum,leafNum:h.leafNum}}(t,i,s,l,c,0,0),new a(i,s,l,c)}(t,i)})};e.makeLeafArray=function(t){if(!(t.length>0))return[[-1]];var e,r,n=[];try{for(var s=i(t),u=s.next();!u.done;u=s.next()){var a=u.value;n.push.apply(n,o(a.indices))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n};e.searchFlatTree=function(t,e,r){for(var n=0;e.children[n][0]>0;)n=0===function(t,e,r,n){for(var o=e,i=0;i<r.length;i++)o+=t[i]*r[i];return 0===o?u.tauRandInt(2,n):o>0?0:1}(e.hyperplanes[n],e.offsets[n],t,r)?e.children[n][0]:e.children[n][1];var o=-1*e.children[n][0];return e.indices[o]}},183232:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function s(t){try{a(n.next(t))}catch(t){i(t)}}function u(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,u)}a((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=u(r("235390")),c=u(r("993064")),h=u(r("268552")),f=u(r("139108")),p=u(r("32519")),m=a(r("528890")),g=function(){function t(t){void 0===t&&(t={});var e=this;this.learningRate=1,this.localConnectivity=1,this.minDist=.1,this.nComponents=2,this.nEpochs=0,this.nNeighbors=15,this.negativeSampleRate=5,this.random=Math.random,this.repulsionStrength=1,this.setOpMixRatio=1,this.spread=1,this.transformQueueSize=4,this.targetMetric="categorical",this.targetWeight=.5,this.targetNNeighbors=this.nNeighbors,this.distanceFn=d,this.isInitialized=!1,this.rpForest=[],this.embedding=[],this.optimizationState=new v;var r=function(r){void 0!==t[r]&&(e[r]=t[r])};r("distanceFn"),r("learningRate"),r("localConnectivity"),r("minDist"),r("nComponents"),r("nEpochs"),r("nNeighbors"),r("negativeSampleRate"),r("random"),r("repulsionStrength"),r("setOpMixRatio"),r("spread"),r("transformQueueSize")}return t.prototype.fit=function(t){return this.initializeFit(t),this.optimizeLayout(),this.embedding},t.prototype.fitAsync=function(t,e){return void 0===e&&(e=function(){return!0}),n(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return this.initializeFit(t),[4,this.optimizeLayoutAsync(e)];case 1:return r.sent(),[2,this.embedding]}})})},t.prototype.setSupervisedProjection=function(t,e){void 0===e&&(e={}),this.Y=t,this.targetMetric=e.targetMetric||this.targetMetric,this.targetWeight=e.targetWeight||this.targetWeight,this.targetNNeighbors=e.targetNNeighbors||this.targetNNeighbors},t.prototype.setPrecomputedKNN=function(t,e){this.knnIndices=t,this.knnDistances=e},t.prototype.initializeFit=function(t){if(t.length<=this.nNeighbors)throw Error("Not enough data points ("+t.length+") to create nNeighbors: "+this.nNeighbors+".  Add more data points or adjust the configuration.");if(this.X===t&&this.isInitialized)return this.getNEpochs();if(this.X=t,!this.knnIndices&&!this.knnDistances){var e=this.nearestNeighbors(t);this.knnIndices=e.knnIndices,this.knnDistances=e.knnDistances}this.graph=this.fuzzySimplicialSet(t,this.nNeighbors,this.setOpMixRatio),this.makeSearchFns(),this.searchGraph=this.makeSearchGraph(t),this.processGraphForSupervisedProjection();var r=this.initializeSimplicialSetEmbedding(),n=r.head,o=r.tail,i=r.epochsPerSample;return this.optimizationState.head=n,this.optimizationState.tail=o,this.optimizationState.epochsPerSample=i,this.initializeOptimization(),this.prepareForOptimizationLoop(),this.isInitialized=!0,this.getNEpochs()},t.prototype.makeSearchFns=function(){var t=h.makeInitializations(this.distanceFn),e=t.initFromTree,r=t.initFromRandom;this.initFromTree=e,this.initFromRandom=r,this.search=h.makeInitializedNNSearch(this.distanceFn)},t.prototype.makeSearchGraph=function(t){for(var e=this.knnIndices,r=this.knnDistances,n=[t.length,t.length],o=new c.SparseMatrix([],[],[],n),i=0;i<e.length;i++){for(var s=e[i],u=r[i],a=0;a<s.length;a++){var l=s[a],h=u[a];h>0&&o.set(i,l,h)}}var f=c.transpose(o);return c.maximum(o,f)},t.prototype.transform=function(t){var e=this,r=this.X;if(void 0===r||0===r.length)throw Error("No data has been fit.");var n=Math.floor(this.nNeighbors*this.transformQueueSize);n=Math.min(r.length,n);var o=h.initializeSearch(this.rpForest,r,t,n,this.initFromRandom,this.initFromTree,this.random),i=this.search(r,this.searchGraph,o,t),s=l.deheapSort(i),u=s.indices,a=s.weights;u=u.map(function(t){return t.slice(0,e.nNeighbors)}),a=a.map(function(t){return t.slice(0,e.nNeighbors)});var f=Math.max(0,this.localConnectivity-1),m=this.smoothKNNDistance(a,this.nNeighbors,f),g=m.sigmas,d=m.rhos,v=this.computeMembershipStrengths(u,a,g,d),y=v.rows,w=v.cols,b=v.vals,x=[t.length,r.length],M=new c.SparseMatrix(y,w,b,x),k=c.normalize(M,"l1"),E=c.getCSR(k),_=t.length,N=S(p.reshape2d(E.indices,_,this.nNeighbors),p.reshape2d(E.values,_,this.nNeighbors),this.embedding),R=this.nEpochs?this.nEpochs/3:M.nRows<=1e4?100:30,A=M.getValues().reduce(function(t,e){return e>t?e:t},0);M=M.map(function(t){return t<A/R?0:t}),M=c.eliminateZeros(M);var j=this.makeEpochsPerSample(M.getValues(),R),z=M.getRows(),I=M.getCols();return this.assignOptimizationStateParameters({headEmbedding:N,tailEmbedding:this.embedding,head:z,tail:I,currentEpoch:0,nEpochs:R,nVertices:M.getDims()[1],epochsPerSample:j}),this.prepareForOptimizationLoop(),this.optimizeLayout()},t.prototype.processGraphForSupervisedProjection=function(){var t=this.Y,e=this.X;if(t){if(t.length!==e.length)throw Error("Length of X and y must be equal");if("categorical"===this.targetMetric){var r=this.targetWeight<1?2.5*(1/(1-this.targetWeight)):1e12;this.graph=this.categoricalSimplicialSetIntersection(this.graph,t,r)}}},t.prototype.step=function(){var t=this.optimizationState.currentEpoch;return t<this.getNEpochs()&&this.optimizeLayoutStep(t),this.optimizationState.currentEpoch},t.prototype.getEmbedding=function(){return this.embedding},t.prototype.nearestNeighbors=function(t){var e,r=this.distanceFn,n=this.nNeighbors,o=h.makeNNDescent(r,this.random);var i=5+Math.floor(.5==(e=Math.pow(t.length,.5)/20)?0:Math.round(e)),s=Math.max(5,Math.floor(Math.round(Math.log(t.length)/Math.log(2))));this.rpForest=f.makeForest(t,n,i,this.random);var u=o(t,f.makeLeafArray(this.rpForest),n,s);return{knnIndices:u.indices,knnDistances:u.weights}},t.prototype.fuzzySimplicialSet=function(t,e,r){void 0===r&&(r=1);var n=this.knnIndices,o=void 0===n?[]:n,i=this.knnDistances,s=void 0===i?[]:i,u=this.localConnectivity,a=this.smoothKNNDistance(s,e,u),l=a.sigmas,h=a.rhos,f=this.computeMembershipStrengths(o,s,l,h),p=f.rows,m=f.cols,g=f.vals,d=[t.length,t.length],v=new c.SparseMatrix(p,m,g,d),y=c.transpose(v),w=c.pairwiseMultiply(v,y),b=c.subtract(c.add(v,y),w),x=c.multiplyScalar(b,r),M=c.multiplyScalar(w,1-r);return c.add(x,M)},t.prototype.categoricalSimplicialSetIntersection=function(t,e,r,n){void 0===n&&(n=1);var o=x(t,e,n,r);return M(o=c.eliminateZeros(o))},t.prototype.smoothKNNDistance=function(t,e,r,n,o){void 0===r&&(r=1),void 0===n&&(n=64),void 0===o&&(o=1);for(var i=Math.log(e)/Math.log(2)*o,s=p.zeros(t.length),u=p.zeros(t.length),a=0;a<t.length;a++){var l=0,c=1/0,h=1,f=t[a],m=f.filter(function(t){return t>0});if(m.length>=r){var g=Math.floor(r),d=r-g;g>0?(s[a]=m[g-1],d>1e-5&&(s[a]+=d*(m[g]-m[g-1]))):s[a]=d*m[0]}else m.length>0&&(s[a]=p.max(m));for(var v=0;v<n;v++){for(var y=0,w=1;w<t[a].length;w++){var b=t[a][w]-s[a];b>0?y+=Math.exp(-(b/h)):y+=1}if(1e-5>Math.abs(y-i))break;y>i?h=(l+(c=h))/2:(l=h,c===1/0?h*=2:h=(l+c)/2)}if(u[a]=h,s[a]>0){var x=p.mean(f);u[a]<.001*x&&(u[a]=.001*x)}else{var M=p.mean(t.map(p.mean));u[a]<.001*M&&(u[a]=.001*M)}}return{sigmas:u,rhos:s}},t.prototype.computeMembershipStrengths=function(t,e,r,n){for(var o=t.length,i=t[0].length,s=p.zeros(o*i),u=p.zeros(o*i),a=p.zeros(o*i),l=0;l<o;l++)for(var c=0;c<i;c++){var h=0;-1!==t[l][c]&&(h=t[l][c]===l?0:e[l][c]-n[l]<=0?1:Math.exp(-((e[l][c]-n[l])/r[l])),s[l*i+c]=l,u[l*i+c]=t[l][c],a[l*i+c]=h)}return{rows:s,cols:u,vals:a}},t.prototype.initializeSimplicialSetEmbedding=function(){for(var t=this,e=this.getNEpochs(),r=this.nComponents,n=this.graph.getValues(),o=0,i=0;i<n.length;i++){var s=n[i];o<n[i]&&(o=s)}var u=this.graph.map(function(t){return t<o/e?0:t});this.embedding=p.zeros(u.nRows).map(function(){return p.zeros(r).map(function(){return 20*p.tauRand(t.random)+-10})});for(var a=[],l=[],c=[],h=u.getAll(),i=0;i<h.length;i++){var f=h[i];f.value&&(a.push(f.value),c.push(f.row),l.push(f.col))}return{head:l,tail:c,epochsPerSample:this.makeEpochsPerSample(a,e)}},t.prototype.makeEpochsPerSample=function(t,e){var r=p.filled(t.length,-1),n=p.max(t),o=t.map(function(t){return t/n*e});return o.forEach(function(t,n){t>0&&(r[n]=e/o[n])}),r},t.prototype.assignOptimizationStateParameters=function(t){Object.assign(this.optimizationState,t)},t.prototype.prepareForOptimizationLoop=function(){var t=this.repulsionStrength,e=this.learningRate,r=this.negativeSampleRate,n=this.optimizationState,o=n.epochsPerSample,i=n.headEmbedding,u=n.tailEmbedding,a=i[0].length,l=i.length===u.length,c=o.map(function(t){return t/r}),h=s(c),f=s(o);this.assignOptimizationStateParameters({epochOfNextSample:f,epochOfNextNegativeSample:h,epochsPerNegativeSample:c,moveOther:l,initialAlpha:e,alpha:e,gamma:t,dim:a})},t.prototype.initializeOptimization=function(){var t=this.embedding,e=this.embedding,r=this.optimizationState,n=r.head,o=r.tail,i=r.epochsPerSample,s=this.getNEpochs(),u=this.graph.nCols,a=b(this.spread,this.minDist),l=a.a,c=a.b;this.assignOptimizationStateParameters({headEmbedding:t,tailEmbedding:e,head:n,tail:o,epochsPerSample:i,a:l,b:c,nEpochs:s,nVertices:u})},t.prototype.optimizeLayoutStep=function(t){for(var e=this.optimizationState,r=e.head,n=e.tail,o=e.headEmbedding,i=e.tailEmbedding,s=e.epochsPerSample,u=e.epochOfNextSample,a=e.epochOfNextNegativeSample,l=e.epochsPerNegativeSample,c=e.moveOther,h=e.initialAlpha,f=e.alpha,m=e.gamma,g=e.a,d=e.b,v=e.dim,b=e.nEpochs,x=e.nVertices,M=0;M<s.length;M++)if(!(u[M]>t)){var S=r[M],k=n[M],E=o[S],_=i[k],N=w(E,_),R=0;N>0&&(R=-2*g*d*Math.pow(N,d-1)/(g*Math.pow(N,d)+1));for(var A=0;A<v;A++){var j=y(R*(E[A]-_[A]),4);E[A]+=j*f,c&&(_[A]+=-j*f)}u[M]+=s[M];for(var z=Math.floor((t-a[M])/l[M]),I=0;I<z;I++){var C=p.tauRandInt(x,this.random),O=i[C],P=w(E,O),$=0;if(P>0)$=2*m*d/((.001+P)*(g*Math.pow(P,d)+1));else if(S===C)continue;for(var A=0;A<v;A++){var j=4;$>0&&(j=y($*(E[A]-O[A]),4)),E[A]+=j*f}}a[M]+=z*l[M]}return e.alpha=h*(1-t/b),e.currentEpoch+=1,o},t.prototype.optimizeLayoutAsync=function(t){var e=this;return void 0===t&&(t=function(){return!0}),new Promise(function(r,i){var s=function(){return n(e,void 0,void 0,function(){var e,n,u,a,l,c;return o(this,function(o){try{if(n=(e=this.optimizationState).nEpochs,u=e.currentEpoch,this.embedding=this.optimizeLayoutStep(u),a=this.optimizationState.currentEpoch,l=!1===t(a),c=a===n,l||c)return[2,r(c)];setTimeout(function(){return s()},0)}catch(t){i(t)}return[2]})})};setTimeout(function(){return s()},0)})},t.prototype.optimizeLayout=function(t){void 0===t&&(t=function(){return!0});for(var e=!1,r=[];!e;){var n=this.optimizationState,o=n.nEpochs,i=n.currentEpoch;r=this.optimizeLayoutStep(i);var s=this.optimizationState.currentEpoch,u=!1===t(s);e=s===o||u}return r},t.prototype.getNEpochs=function(){var t=this.graph;if(this.nEpochs>0)return this.nEpochs;var e=t.nRows;if(e<=2500)return 500;if(e<=5e3)return 400;if(e<=7500)return 300;else return 200},t}();function d(t,e){for(var r=0,n=0;n<t.length;n++)r+=Math.pow(t[n]-e[n],2);return Math.sqrt(r)}e.UMAP=g,e.euclidean=d;e.cosine=function(t,e){for(var r=0,n=0,o=0,i=0;i<t.length;i++)r+=t[i]*e[i],n+=Math.pow(t[i],2),o+=Math.pow(e[i],2);return 0===n&&0===o?0:0===n||0===o?1:1-r/Math.sqrt(n*o)};var v=function(){this.currentEpoch=0,this.headEmbedding=[],this.tailEmbedding=[],this.head=[],this.tail=[],this.epochsPerSample=[],this.epochOfNextSample=[],this.epochOfNextNegativeSample=[],this.epochsPerNegativeSample=[],this.moveOther=!0,this.initialAlpha=1,this.alpha=1,this.gamma=1,this.a=1.5769434603113077,this.b=.8950608779109733,this.dim=2,this.nEpochs=500,this.nVertices=0};function y(t,e){return t>e?e:t<-e?-e:t}function w(t,e){for(var r=0,n=0;n<t.length;n++)r+=Math.pow(t[n]-e[n],2);return r}function b(t,e){var r=p.linear(0,3*t,300).map(function(t){return t<e?1:t}),n=p.zeros(r.length).map(function(n,o){return r[o]>=e?Math.exp(-(r[o]-e)/t):n}),o=m.default({x:r,y:n},function(t){var e=i(t,2),r=e[0],n=e[1];return function(t){return 1/(1+r*Math.pow(t,2*n))}},{damping:1.5,initialValues:[.5,.5],gradientDifference:.1,maxIterations:100,errorTolerance:.01}).parameterValues,s=i(o,2);return{a:s[0],b:s[1]}}function x(t,e,r,n){return void 0===r&&(r=1),void 0===n&&(n=5),t.map(function(t,o,i){return -1===e[o]||-1===e[i]?t*Math.exp(-r):e[o]!==e[i]?t*Math.exp(-n):t})}function M(t){t=c.normalize(t,"max");var e=c.transpose(t),r=c.pairwiseMultiply(e,t);return t=c.add(t,c.subtract(e,r)),c.eliminateZeros(t)}function S(t,e,r){for(var n=p.zeros(t.length).map(function(t){return p.zeros(r[0].length)}),o=0;o<t.length;o++)for(var i=0;i<t[0].length;i++)for(var s=0;s<r[0].length;s++){var u=t[o][i];n[o][s]+=e[o][i]*r[u][s]}return n}e.findABParams=b,e.fastIntersection=x,e.resetLocalConnectivity=M,e.initTransform=S},32519:function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function o(t,e){return Math.floor(e()*t)}Object.defineProperty(e,"__esModule",{value:!0}),e.tauRandInt=o;e.tauRand=function(t){return t()};function i(t){for(var e=[],r=0;r<t;r++)e.push(void 0);return e}e.norm=function(t){var e,r,o=0;try{for(var i=n(t),s=i.next();!s.done;s=i.next()){var u=s.value;o+=Math.pow(u,2)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return Math.sqrt(o)},e.empty=i;function s(t,e){return i(t).map(function(){return e})}function u(t){return s(t,0)}e.range=function(t){return i(t).map(function(t,e){return e})},e.filled=s,e.zeros=u;e.ones=function(t){return s(t,1)};function a(t){return t.reduce(function(t,e){return t+e})}e.linear=function(t,e,r){return i(r).map(function(n,o){return t+o*((e-t)/(r-1))})},e.sum=a;e.mean=function(t){return a(t)/t.length};e.max=function(t){for(var e=0,r=0;r<t.length;r++)e=t[r]>e?t[r]:e;return e};e.max2d=function(t){for(var e=0,r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)e=t[r][n]>e?t[r][n]:e;return e};e.rejectionSample=function(t,e,r){for(var n=u(t),i=0;i<t;i++){for(var s=!0;s;){for(var a=o(e,r),l=!1,c=0;c<i;c++)if(a===n[c]){l=!0;break}!l&&(s=!1),n[i]=a}}return n};e.reshape2d=function(t,e,r){var n=[],o=0,i=0;if(t.length!==e*r)throw Error("Array dimensions must match input length.");for(var s=0;s<e;s++){for(var u=[],a=0;a<r;a++)u.push(t[i]),i+=1;n.push(u)}return n}},429083:function(t,e,r){"use strict";function n(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}r.r(e),r.d(e,{default:function(){return n}})},17873:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return a}});var n=r("429083"),o=r("858302"),i=r("785405");let s=(0,o.default)(n.default),u=s.right;s.left,(0,o.default)(i.default).center;var a=u},858302:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return i}});var n=r("429083"),o=r("314285");function i(t){let e,r,i;function u(t,n,o=0,i=t.length){if(o<i){if(0!==e(n,n))return i;do{let e=o+i>>>1;0>r(t[e],n)?o=e+1:i=e}while(o<i)}return o}return 2!==t.length?(e=n.default,r=(e,r)=>(0,n.default)(t(e),r),i=(e,r)=>t(e)-r):(e=t===n.default||t===o.default?t:s,r=t,i=t),{left:u,center:function(t,e,r=0,n=t.length){let o=u(t,e,r,n-1);return o>r&&i(t[o-1],e)>-i(t[o],e)?o-1:o},right:function(t,n,o=0,i=t.length){if(o<i){if(0!==e(n,n))return i;do{let e=o+i>>>1;0>=r(t[e],n)?o=e+1:i=e}while(o<i)}return o}}}function s(){return 0}},314285:function(t,e,r){"use strict";function n(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}r.r(e),r.d(e,{default:function(){return n}})},758347:function(t,e,r){"use strict";r.r(e),r.d(e,{bisect:function(){return n.default}}),r.d(e,{ticks:function(){return o.default},tickIncrement:function(){return o.tickIncrement},tickStep:function(){return o.tickStep}}),r.d(e,{InternMap:function(){return i.InternMap}});var n=r("17873"),o=r("675674"),i=r("297565")},785405:function(t,e,r){"use strict";function n(t){return null===t?NaN:+t}r.r(e),r.d(e,{default:function(){return n}})},675674:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return u},tickIncrement:function(){return a},tickStep:function(){return l}});let n=Math.sqrt(50),o=Math.sqrt(10),i=Math.sqrt(2);function s(t,e,r){let u,a,l;let c=(e-t)/Math.max(0,r),h=Math.floor(Math.log10(c)),f=c/Math.pow(10,h),p=f>=n?10:f>=o?5:f>=i?2:1;return(h<0?(u=Math.round(t*(l=Math.pow(10,-h)/p)),a=Math.round(e*l),u/l<t&&++u,a/l>e&&--a,l=-l):(u=Math.round(t/(l=Math.pow(10,h)*p)),a=Math.round(e/l),u*l<t&&++u,a*l>e&&--a),a<u&&.5<=r&&r<2)?s(t,e,2*r):[u,a,l]}function u(t,e,r){if(e=+e,t=+t,!((r=+r)>0))return[];if(t===e)return[t];let n=e<t,[o,i,u]=n?s(e,t,r):s(t,e,r);if(!(i>=o))return[];let a=i-o+1,l=Array(a);if(n){if(u<0)for(let t=0;t<a;++t)l[t]=-((i-t)/u);else for(let t=0;t<a;++t)l[t]=(i-t)*u}else if(u<0)for(let t=0;t<a;++t)l[t]=-((o+t)/u);else for(let t=0;t<a;++t)l[t]=(o+t)*u;return l}function a(t,e,r){return e=+e,t=+t,s(t,e,r=+r)[2]}function l(t,e,r){e=+e,t=+t,r=+r;let n=e<t,o=n?a(e,t,r):a(t,e,r);return(n?-1:1)*(o<0?-(1/o):o)}},91245:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return w},rgb:function(){return M}});var n=r("488158");function o(){}var i=1.4285714285714286,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,c=RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=RegExp(`^rgb\\(${a},${a},${a}\\)$`),f=RegExp(`^rgba\\(${s},${s},${s},${u}\\)$`),p=RegExp(`^rgba\\(${a},${a},${a},${u}\\)$`),m=RegExp(`^hsl\\(${u},${a},${a}\\)$`),g=RegExp(`^hsla\\(${u},${a},${a},${u}\\)$`),d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}(0,n.default)(o,w,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return j(this).formatHsl()},formatRgb:y,toString:y});function y(){return this.rgb().formatRgb()}function w(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?b(e):3===r?new S(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?x(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new S(e[1],e[2],e[3],1):(e=h.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=f.exec(t))?x(e[1],e[2],e[3],e[4]):(e=p.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=m.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):d.hasOwnProperty(t)?b(d[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function b(t){return new S(t>>16&255,t>>8&255,255&t,1)}function x(t,e,r,n){return n<=0&&(t=e=r=NaN),new S(t,e,r,n)}function M(t,e,r,n){var i;return 1==arguments.length?(!((i=t)instanceof o)&&(i=w(i)),i)?(i=i.rgb(),new S(i.r,i.g,i.b,i.opacity)):new S:new S(t,e,r,null==n?1:n)}function S(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function k(){return`#${R(this.r)}${R(this.g)}${R(this.b)}`}(0,n.default)(S,M,(0,n.extend)(o,{brighter(t){return t=null==t?i:Math.pow(i,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new S(N(this.r),N(this.g),N(this.b),_(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatHex8:function(){return`#${R(this.r)}${R(this.g)}${R(this.b)}${R((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:E,toString:E}));function E(){let t=_(this.opacity);return`${1===t?"rgb(":"rgba("}${N(this.r)}, ${N(this.g)}, ${N(this.b)}${1===t?")":`, ${t})`}`}function _(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function N(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function R(t){return((t=N(t))<16?"0":"")+t.toString(16)}function A(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new z(t,e,r,n)}function j(t){if(t instanceof z)return new z(t.h,t.s,t.l,t.opacity);if(!(t instanceof o)&&(t=w(t)),!t)return new z;if(t instanceof z)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),u=NaN,a=s-i,l=(s+i)/2;return a?(u=e===s?(r-n)/a+(r<n)*6:r===s?(n-e)/a+2:(e-r)/a+4,a/=l<.5?s+i:2-s-i,u*=60):a=l>0&&l<1?0:u,new z(u,a,l,t.opacity)}function z(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function I(t){return(t=(t||0)%360)<0?t+360:t}function C(t){return Math.max(0,Math.min(1,t||0))}function O(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}(0,n.default)(z,function(t,e,r,n){return 1==arguments.length?j(t):new z(t,e,r,null==n?1:n)},(0,n.extend)(o,{brighter(t){return t=null==t?i:Math.pow(i,t),new z(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new z(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new S(O(t>=240?t-240:t+120,o,n),O(t,o,n),O(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new z(I(this.h),C(this.s),C(this.l),_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=_(this.opacity);return`${1===t?"hsl(":"hsla("}${I(this.h)}, ${100*C(this.s)}%, ${100*C(this.l)}%${1===t?")":`, ${t})`}`}}))},488158:function(t,e,r){"use strict";function n(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function o(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}r.r(e),r.d(e,{default:function(){return n},extend:function(){return o}})},351267:function(t,e,r){"use strict";r.r(e),r.d(e,{color:function(){return n.default},rgb:function(){return n.rgb}});var n=r("91245")},498939:function(t,e,r){"use strict";r.r(e),r.d(e,{format:function(){return o},formatPrefix:function(){return i}});var n,o,i,s=r("554729");(function(t){o=(n=(0,s.default)(t)).format,i=n.formatPrefix})({thousands:",",grouping:[3],currency:["$",""]})},733544:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("9222");function o(t){return(t=(0,n.formatDecimalParts)(Math.abs(t)))?t[1]:NaN}},9222:function(t,e,r){"use strict";function n(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function o(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}r.r(e),r.d(e,{default:function(){return n},formatDecimalParts:function(){return o}})},277682:function(t,e,r){"use strict";function n(t,e){return function(r,n){for(var o=r.length,i=[],s=0,u=t[0],a=0;o>0&&u>0&&(a+u+1>n&&(u=Math.max(1,n-a)),i.push(r.substring(o-=u,o+u)),!((a+=u+1)>n));){;u=t[s=(s+1)%t.length]}return i.reverse().join(e)}}r.r(e),r.d(e,{default:function(){return n}})},57325:function(t,e,r){"use strict";function n(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}r.r(e),r.d(e,{default:function(){return n}})},354320:function(t,e,r){"use strict";r.r(e),r.d(e,{prefixExponent:function(){return n},default:function(){return i}});var n,o=r("9222");function i(t,e){var r=(0,o.formatDecimalParts)(t,e);if(!r)return t+"";var i=r[0],s=r[1],u=s-(n=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,a=i.length;return u===a?i:u>a?i+Array(u-a+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+Array(1-u).join("0")+(0,o.formatDecimalParts)(t,Math.max(0,e+u-1))[0]}},466339:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("9222");function o(t,e){var r=(0,n.formatDecimalParts)(t,e);if(!r)return t+"";var o=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+Array(i-o.length+2).join("0")}},916048:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(t){var e;if(!(e=n.exec(t)))throw Error("invalid format: "+t);return new i({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function i(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}o.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},455077:function(t,e,r){"use strict";function n(t){e:for(var e,r=t.length,n=1,o=-1;n<r;++n)switch(t[n]){case".":o=e=n;break;case"0":0===o&&(o=n),e=n;break;default:if(!+t[n])break e;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}r.r(e),r.d(e,{default:function(){return n}})},632426:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r("9222"),o=r("354320"),i=r("466339"),s={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:n.default,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>(0,i.default)(100*t,e),r:i.default,s:o.default,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)}},15729:function(t,e,r){"use strict";function n(t){return t}r.r(e),r.d(e,{default:function(){return n}})},544312:function(t,e,r){"use strict";r.r(e),r.d(e,{format:function(){return n.format},formatPrefix:function(){return n.formatPrefix}}),r.d(e,{formatSpecifier:function(){return o.default}}),r.d(e,{precisionFixed:function(){return i.default}}),r.d(e,{precisionPrefix:function(){return s.default}}),r.d(e,{precisionRound:function(){return u.default}});var n=r("498939"),o=r("916048"),i=r("113457"),s=r("816842"),u=r("589689")},554729:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return p}});var n=r("733544"),o=r("277682"),i=r("57325"),s=r("916048"),u=r("455077"),a=r("632426"),l=r("354320"),c=r("15729"),h=Array.prototype.map,f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function p(t){var e=void 0===t.grouping||void 0===t.thousands?c.default:(0,o.default)(h.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",p=void 0===t.currency?"":t.currency[1]+"",m=void 0===t.decimal?".":t.decimal+"",g=void 0===t.numerals?c.default:(0,i.default)(h.call(t.numerals,String)),d=void 0===t.percent?"%":t.percent+"",v=void 0===t.minus?"":t.minus+"",y=void 0===t.nan?"NaN":t.nan+"";function w(t){var n=(t=(0,s.default)(t)).fill,o=t.align,i=t.sign,c=t.symbol,h=t.zero,w=t.width,b=t.comma,x=t.precision,M=t.trim,S=t.type;"n"===S?(b=!0,S="g"):!a.default[S]&&(void 0===x&&(x=12),M=!0,S="g"),(h||"0"===n&&"="===o)&&(h=!0,n="0",o="=");var k="$"===c?r:"#"===c&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E="$"===c?p:/[%p]/.test(S)?d:"",_=a.default[S],N=/[defgprs%]/.test(S);function R(t){var r,s,a,c=k,p=E;if("c"===S)p=_(t)+p,t="";else{var d=(t=+t)<0||1/t<0;if(t=isNaN(t)?y:_(Math.abs(t),x),M&&(t=(0,u.default)(t)),d&&0==+t&&"+"!==i&&(d=!1),c=(d?"("===i?i:v:"-"===i||"("===i?"":i)+c,p=("s"===S?f[8+l.prefixExponent/3]:"")+p+(d&&"("===i?")":""),N){for(r=-1,s=t.length;++r<s;)if(48>(a=t.charCodeAt(r))||a>57){p=(46===a?m+t.slice(r+1):t.slice(r))+p,t=t.slice(0,r);break}}}b&&!h&&(t=e(t,1/0));var R=c.length+t.length+p.length,A=R<w?Array(w-R+1).join(n):"";switch(b&&h&&(t=e(A+t,A.length?w-p.length:1/0),A=""),o){case"<":t=c+t+p+A;break;case"=":t=c+A+t+p;break;case"^":t=A.slice(0,R=A.length>>1)+c+t+p+A.slice(R);break;default:t=A+c+t+p}return g(t)}return x=void 0===x?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),R.toString=function(){return t+""},R}return{format:w,formatPrefix:function(t,e){var r=w(((t=(0,s.default)(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor((0,n.default)(e)/3))),i=Math.pow(10,-o),u=f[8+o/3];return function(t){return r(i*t)+u}}}}},113457:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("733544");function o(t){return Math.max(0,-(0,n.default)(Math.abs(t)))}},816842:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("733544");function o(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,n.default)(e)/3)))-(0,n.default)(Math.abs(t)))}},589689:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("733544");function o(t,e){return e=Math.abs(e)-(t=Math.abs(t)),Math.max(0,(0,n.default)(e)-(0,n.default)(t))+1}},739113:function(t,e,r){"use strict";r.r(e),r.d(e,{genericArray:function(){return o}});var n=r("434102");function o(t,e){var r,o=e?e.length:0,i=t?Math.min(o,t.length):0,s=Array(i),u=Array(o);for(r=0;r<i;++r)s[r]=(0,n.default)(t[r],e[r]);for(;r<o;++r)u[r]=e[r];return function(t){for(r=0;r<i;++r)u[r]=s[r](t);return u}}},730399:function(t,e,r){"use strict";function n(t,e,r,n,o){var i=t*t,s=i*t;return((1-3*t+3*i-s)*e+(4-6*i+3*s)*r+(1+3*t+3*i-3*s)*n+s*o)/6}function o(t){var e=t.length-1;return function(r){var o=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[o],s=t[o+1],u=o>0?t[o-1]:2*i-s,a=o<e-1?t[o+2]:2*s-i;return n((r-o/e)*e,u,i,s,a)}}r.r(e),r.d(e,{basis:function(){return n},default:function(){return o}})},49198:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("730399");function o(t){var e=t.length;return function(r){var o=Math.floor(((r%=1)<0?++r:r)*e),i=t[(o+e-1)%e],s=t[o%e],u=t[(o+1)%e],a=t[(o+2)%e];return(0,n.basis)((r-o/e)*e,i,s,u,a)}}},641225:function(t,e,r){"use strict";r.r(e),r.d(e,{gamma:function(){return o},default:function(){return i}});var n=r("169657");function o(t){return 1==(t=+t)?i:function(e,r){var o,i,s;return r-e?(o=e,i=r,o=Math.pow(o,s=t),i=Math.pow(i,s)-o,s=1/s,function(t){return Math.pow(o+t*i,s)}):(0,n.default)(isNaN(e)?r:e)}}function i(t,e){var r,o,i=e-t;return i?(r=t,o=i,function(t){return r+t*o}):(0,n.default)(isNaN(t)?e:t)}},169657:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return n}});var n=t=>()=>t},207719:function(t,e,r){"use strict";function n(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}r.r(e),r.d(e,{default:function(){return n}})},332622:function(t,e,r){"use strict";r.r(e),r.d(e,{interpolate:function(){return n.default}}),r.d(e,{interpolateNumber:function(){return o.default}}),r.d(e,{interpolateRound:function(){return i.default}});var n=r("434102"),o=r("749258"),i=r("755614")},749258:function(t,e,r){"use strict";function n(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}r.r(e),r.d(e,{default:function(){return n}})},519746:function(t,e,r){"use strict";function n(t,e){!e&&(e=[]);var r,n=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(r=0;r<n;++r)o[r]=t[r]*(1-i)+e[r]*i;return o}}function o(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.r(e),r.d(e,{default:function(){return n},isNumberArray:function(){return o}})},444770:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r("434102");function o(t,e){var r,o={},i={};for(r in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)r in t?o[r]=(0,n.default)(t[r],e[r]):i[r]=e[r];return function(t){for(r in o)i[r]=o[r](t);return i}}},672463:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return u}});var n=r("351267"),o=r("730399"),i=r("49198"),s=r("641225"),u=function t(e){var r=(0,s.gamma)(e);function o(t,e){var o=r((t=(0,n.rgb)(t)).r,(e=(0,n.rgb)(e)).r),i=r(t.g,e.g),u=r(t.b,e.b),a=(0,s.default)(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=i(e),t.b=u(e),t.opacity=a(e),t+""}}return o.gamma=t,o}(1);function a(t){return function(e){var r,o,i=e.length,s=Array(i),u=Array(i),a=Array(i);for(r=0;r<i;++r)o=(0,n.rgb)(e[r]),s[r]=o.r||0,u[r]=o.g||0,a[r]=o.b||0;return s=t(s),u=t(u),a=t(a),o.opacity=1,function(t){return o.r=s(t),o.g=u(t),o.b=a(t),o+""}}}a(o.default),a(i.default)},755614:function(t,e,r){"use strict";function n(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}r.r(e),r.d(e,{default:function(){return n}})},654152:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r("749258"),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=RegExp(o.source,"g");function s(t,e){var r,s,u,a,l,c=o.lastIndex=i.lastIndex=0,h=-1,f=[],p=[];for(t+="",e+="";(u=o.exec(t))&&(a=i.exec(e));)(l=a.index)>c&&(l=e.slice(c,l),f[h]?f[h]+=l:f[++h]=l),(u=u[0])===(a=a[0])?f[h]?f[h]+=a:f[++h]=a:(f[++h]=null,p.push({i:h,x:(0,n.default)(u,a)})),c=i.lastIndex;return c<e.length&&(l=e.slice(c),f[h]?f[h]+=l:f[++h]=l),f.length<2?p[0]?(r=p[0].x,function(t){return r(t)+""}):(s=e,function(){return s}):(e=p.length,function(t){for(var r,n=0;n<e;++n)f[(r=p[n]).i]=r.x(t);return f.join("")})}},434102:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return f}});var n=r("351267"),o=r("672463"),i=r("739113"),s=r("207719"),u=r("749258"),a=r("444770"),l=r("654152"),c=r("169657"),h=r("519746");function f(t,e){var r,f=typeof e;return null==e||"boolean"===f?(0,c.default)(e):("number"===f?(0,u.default):"string"===f?(r=(0,n.color)(e))?(e=r,o.default):l.default:e instanceof n.color?o.default:e instanceof Date?s.default:(0,h.isNumberArray)(e)?h.default:Array.isArray(e)?i.genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?a.default:u.default)(t,e)}},855554:function(t,e,r){"use strict";function n(t){return function(){return t}}r.r(e),r.d(e,{default:function(){return n}})},103808:function(t,e,r){"use strict";r.r(e),r.d(e,{copy:function(){return f},default:function(){return p}});var n=r("758347"),o=r("332622"),i=r("855554"),s=r("415664"),u=[0,1];function a(t){return t}function l(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:(0,i.default)(isNaN(e)?NaN:.5)}function c(t,e,r){var n=t[0],o=t[1],i=e[0],s=e[1];return o<n?(n=l(o,n),i=r(s,i)):(n=l(n,o),i=r(i,s)),function(t){return i(n(t))}}function h(t,e,r){var o=Math.min(t.length,e.length)-1,i=Array(o),s=Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<o;)i[u]=l(t[u],t[u+1]),s[u]=r(e[u],e[u+1]);return function(e){var r=(0,n.bisect)(t,e,1,o)-1;return s[r](i[r](e))}}function f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function p(){return(function(){var t,e,r,n,i,l,f=u,p=u,m=o.interpolate,g=a;function d(){var t,e,r,o=Math.min(f.length,p.length);if(g!==a){;t=f[0],t>(e=f[o-1])&&(r=t,t=e,e=r),g=function(r){return Math.max(t,Math.min(e,r))}}return n=o>2?h:c,i=l=null,v}function v(e){return null==e||isNaN(e=+e)?r:(i||(i=n(f.map(t),p,m)))(t(g(e)))}return v.invert=function(r){return g(e((l||(l=n(p,f.map(t),o.interpolateNumber)))(r)))},v.domain=function(t){return arguments.length?(f=Array.from(t,s.default),d()):f.slice()},v.range=function(t){return arguments.length?(p=Array.from(t),d()):p.slice()},v.rangeRound=function(t){return p=Array.from(t),m=o.interpolateRound,d()},v.clamp=function(t){return arguments.length?(g=!!t||a,d()):g!==a},v.interpolate=function(t){return arguments.length?(m=t,d()):m},v.unknown=function(t){return arguments.length?(r=t,v):r},function(r,n){return t=r,e=n,d()}})()(a,a)}},75405:function(t,e,r){"use strict";r.r(e),r.d(e,{scaleLinear:function(){return n.default}}),r.d(e,{scaleOrdinal:function(){return o.default}});var n=r("785740"),o=r("31373")},799098:function(t,e,r){"use strict";function n(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}r.r(e),r.d(e,{initRange:function(){return n}})},785740:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return function t(){var e,r,u=(0,o.default)();return u.copy=function(){return(0,o.copy)(u,t())},i.initRange.apply(u,arguments),r=(e=u).domain,e.ticks=function(t){var e=r();return(0,n.ticks)(e[0],e[e.length-1],null==t?10:t)},e.tickFormat=function(t,e){var n=r();return(0,s.default)(n[0],n[n.length-1],null==t?10:t,e)},e.nice=function(t){null==t&&(t=10);var o,i,s=r(),u=0,a=s.length-1,l=s[u],c=s[a],h=10;for(c<l&&(i=l,l=c,c=i,i=u,u=a,a=i);h-- >0;){if((i=(0,n.tickIncrement)(l,c,t))===o)return s[u]=l,s[a]=c,r(s);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else if(i<0)l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i;else break;o=i}return e},e}}});var n=r("758347"),o=r("103808"),i=r("799098"),s=r("53230")},415664:function(t,e,r){"use strict";function n(t){return+t}r.r(e),r.d(e,{default:function(){return n}})},31373:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return function t(){var e=new n.InternMap,r=[],s=[],u=i;function a(t){let n=e.get(t);if(void 0===n){if(u!==i)return u;e.set(t,n=r.push(t)-1)}return s[n%s.length]}return a.domain=function(t){if(!arguments.length)return r.slice();for(let o of(r=[],e=new n.InternMap,t))!e.has(o)&&e.set(o,r.push(o)-1);return a},a.range=function(t){return arguments.length?(s=Array.from(t),a):s.slice()},a.unknown=function(t){return arguments.length?(u=t,a):u},a.copy=function(){return t(r,s).unknown(u)},o.initRange.apply(a,arguments),a}}});var n=r("758347"),o=r("799098");let i=Symbol("implicit")},53230:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return i}});var n=r("758347"),o=r("544312");function i(t,e,r,i){var s,u=(0,n.tickStep)(t,e,r);switch((i=(0,o.formatSpecifier)(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null==i.precision&&!isNaN(s=(0,o.precisionPrefix)(u,a))&&(i.precision=s),(0,o.formatPrefix)(i,a);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(s=(0,o.precisionRound)(u,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(s=(0,o.precisionFixed)(u))&&(i.precision=s-("%"===i.type)*2)}return(0,o.format)(i)}},297565:function(t,e,r){"use strict";r.r(e),r.d(e,{InternMap:function(){return n}});class n extends Map{constructor(t,e=i){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,r]of t)this.set(e,r)}get(t){return super.get(o(this,t))}has(t){return super.has(o(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},r){let n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}(this,t))}}function o({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):r}function i(t){return null!==t&&"object"==typeof t?t.valueOf():t}}}]);
//# sourceMappingURL=vendors~node_modules_lodash_groupBy_js~node_modules_umap-js_dist_index_js~node_modules_d3-sca~62a577.main.js.map