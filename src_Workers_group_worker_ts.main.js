!function(){var e,t,r,i,n,o={10398:function(e,t,r){"use strict";r.r(t),r.d(t,{POINT_RADIUS:function(){return i}});let i=.012},426449:function(e,t,r){"use strict";r.r(t),r.d(t,{Rectangle:function(){return i}});class i{x;y;width;height;constructor(e,t,r,i){this.x=e,this.y=t,this.width=r,this.height=i}within(e){return e.x>this.x&&e.x<this.x+this.width&&e.y>this.y&&e.y<this.y+this.height}serialize(){return{x:this.x,y:this.y,width:this.width,height:this.height}}percent(e,t){return{x:this.x+this.width*e,y:this.y+this.height*t}}percentX(e){return(e-this.x)/this.width}percentY(e){return(e-this.y)/this.height}get centerX(){return this.x+this.width/2}get centerY(){return this.y+this.height/2}static deserialize(e){return new i(e.x,e.y,e.width,e.height)}}},789810:function(e,t,r){"use strict";r.r(t);var i=r("814796"),n=r.n(i),o=r("905269"),s=r.n(o),u=r("426449"),h=r("826307"),l=r("184086"),c=r("169805"),d=r("10398");self.onmessage=({data:{X:e,area:t,type:r,feature:i,strategy:o}})=>{if("init"!==r)return;let a=u.Rectangle.deserialize(t),p={discriminator:"annotations",type:"xy",labels:[]};self.postMessage({type:"message",message:"Calculating groups"});let f=e.map((e,t)=>({relativeIndex:t,value:e})),_=e.length,y=n(f,e=>e.value[i]),g=Array(_),x=[{id:"root"}];for(let e of s(y)){x.push({id:e,parent:"root"});let t=y[e];t.forEach(t=>{x.push({id:(0,l.nanoid)(),parent:e})})}let m="slice"===o?h.treemapSlice:h.treemapSquarify,w=(0,h.stratify)().id(e=>e.id).parentId(e=>e.parent)(x).count(),b=(0,h.treemap)().tile(m).paddingTop(3*d.POINT_RADIUS).size([t.width,t.height])(w);for(let e of s(y)){let r=y[e],i=b.children.find(t=>t.id===e),n={x:i.x0+t.x,y:i.y0+t.y,width:i.x1-i.x0,height:i.y1-i.y0},{Y:o,bounds:s}=(0,c.fillRect)(n,r.length,d.POINT_RADIUS),u=a.percentY(12*d.POINT_RADIUS)-a.percentY(0);p.labels.push({position:{x:a.percentX(s.x),y:a.percentY(s.y)-u,width:a.percentX(s.x+s.width)-a.percentX(s.x),height:u},content:e}),r.forEach((e,t)=>{g[e.relativeIndex]=o[t]})}self.postMessage({type:"finish",Y:g,labels:[p]})}},169805:function(e,t,r){"use strict";r.r(t),r.d(t,{fillRect:function(){return o}});var i=r("10398"),n=r("426449");function o(e,t,r=i.POINT_RADIUS){(0===e.width||0===e.height)&&console.log(e);let o=3*r,s=o**2*t,u=Math.sqrt(s/(e.width/e.height)),h=s/u;h=Math.ceil(h/o),u=Math.ceil(u/o);let l=e.x+e.width/2-h/2*o,c=e.y+e.height/2-u/2*o,d=Array.from({length:t}).map((e,t)=>({x:t%h*o,y:Math.floor(t/h)*o}));return{Y:d.map(e=>({x:l+e.x+o/2,y:c+e.y+o/2})),bounds:n.Rectangle.deserialize({x:l,y:c,width:h*o,height:u*o})}}}},s={};function u(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return o[e](r,r.exports,u),r.loaded=!0,r.exports}u.m=o,u.x=function(){var e=u.O(void 0,["vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~dd38ec"],function(){return u("789810")});return e=u.O(e)},e=u.x,u.x=function(){return Promise.all(["vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~dd38ec"].map(u.e,u)).then(e)},u.es=function(e,t){return Object.keys(e).forEach(function(r){"default"!==r&&!Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),e},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce(function(t,r){return u.f[r](e,t),t},[]))},!function(){self.importScripts&&(e=self.location+"");var e,t=self.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e}(),u.u=function(e){return({"vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~dd38ec":"vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~dd38ec.main.js"})[e]},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t=[],u.O=function(e,r,i,n){if(r){n=n||0;for(var o=t.length;o>0&&t[o-1][2]>n;o--)t[o]=t[o-1];t[o]=[r,i,n];return}for(var s=1/0,o=0;o<t.length;o++){for(var r=t[o][0],i=t[o][1],n=t[o][2],h=!0,l=0;l<r.length;l++)s>=n&&Object.keys(u.O).every(function(e){return u.O[e](r[l])})?r.splice(l--,1):(h=!1,n<s&&(s=n));if(h){t.splice(o--,1);var c=i()}}return c},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.d=function(e,t){for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.n=function(e){return e&&e.__esModule?e.default:e},u.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},r={src_Workers_group_worker_ts:1},u.f.i=function(e,t){!r[e]&&importScripts(u.p+u.u(e))},n=(i=self.webpackChunkmy_sample_typescript_app=self.webpackChunkmy_sample_typescript_app||[]).push.bind(i),i.push=function(e){var t=e[0],i=e[1],o=e[2];for(var s in i)u.o(i,s)&&(u.m[s]=i[s]);for(o&&o(u);t.length;)r[t.pop()]=1;n(e)},u.x()}();
//# sourceMappingURL=src_Workers_group_worker_ts.main.js.map