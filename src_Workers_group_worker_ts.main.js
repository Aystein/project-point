!function(){var e,t,r,n,o,i={801163:function(e,t,r){"use strict";r.r(t),r.d(t,{scaleToWorld:function(){return i},forceNormalizationNew:function(){return s}});var n=r("75405"),o=r("10398");function i(e){let t=(0,n.scaleLinear)().domain([0,1]).range([e.x,e.x+e.width]),r=(0,n.scaleLinear)().domain([0,1]).range([e.y,e.y+e.height]);return[t,r]}function s(e){let t=500/e.width,r=(0,n.scaleLinear)().domain([0,1]).range([0,e.width*t]),i=(0,n.scaleLinear)().domain([0,1]).range([0,e.height*t]),s=(0,n.scaleLinear)().domain([0,1]).range([e.x+.01*e.width,e.x+.99*e.width]),a=(0,n.scaleLinear)().domain([0,1]).range([e.y+.01*e.height,e.y+.99*e.height]);return[r,i,s,a,o.POINT_RADIUS*t]}},10398:function(e,t,r){"use strict";r.r(t),r.d(t,{POINT_RADIUS:function(){return n}});let n=.012},789810:function(e,t,r){"use strict";r.r(t);var n=r("814796"),o=r.n(n),i=r("905269"),s=r.n(i),a=r("801163"),l=r("826307"),u=r("184086"),d=r("169805"),c=r("10398");self.onmessage=({data:{X:e,area:t,type:r,feature:n,yLayout:i}})=>{if("init"!==r)return;self.postMessage({type:"message",message:"Calculating groups"});let f=e.map((e,t)=>({relativeIndex:t,value:e})),p=e.length,h=o(f,e=>e.value[n]),_=Array(p),[m,g,y,x,v]=(0,a.forceNormalizationNew)(t);s(h).length,s(h).length;let b=[{id:"root"}];for(let e of s(h)){b.push({id:e,parent:"root"});let t=h[e];t.forEach(t=>{b.push({id:(0,u.nanoid)(),parent:e})})}let j=(0,l.stratify)().id(e=>e.id).parentId(e=>e.parent)(b).count(),w=(0,l.treemap)().tile(l.treemapSquarify).padding(3*c.POINT_RADIUS).size([t.width,t.height])(j);for(let e of(console.log(w),s(h))){let r=h[e],n=w.children.find(t=>t.id===e),o={x:n.x0+t.x,y:n.y0+t.y,width:n.x1-n.x0,height:n.y1-n.y0},i=(0,d.fillRect)(o,r.length,c.POINT_RADIUS);r.forEach((e,t)=>{_[e.relativeIndex]=i[t]})}self.postMessage({type:"finish",Y:_,labels:[{discriminator:"positionedlabels",type:"x",labels:[]}]})}},169805:function(e,t,r){"use strict";r.r(t),r.d(t,{fillRect:function(){return o}});var n=r("10398");function o(e,t,r=n.POINT_RADIUS){let o=3*r,i=o**2*t,s=Math.sqrt(i/(e.width/e.height)),a=i/s;a=Math.ceil(a/o),s=Math.ceil(s/o);let l=e.x+e.width/2-a/2*o,u=e.y+e.height/2-s/2*o,d=Array.from({length:t}).map((e,t)=>({x:t%a*o,y:Math.floor(t/a)*o}));return d.map(e=>({x:l+e.x,y:u+e.y}))}}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return i[e](r,r.exports,a),r.loaded=!0,r.exports}a.m=i,a.x=function(){var e=a.O(void 0,["vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~2df69e"],function(){return a("789810")});return e=a.O(e)},e=a.x,a.x=function(){return Promise.all(["vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~2df69e"].map(a.e,a)).then(e)},a.es=function(e,t){return Object.keys(e).forEach(function(r){"default"!==r&&!Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),e},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,r){return a.f[r](e,t),t},[]))},!function(){self.importScripts&&(e=self.location+"");var e,t=self.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e}(),a.u=function(e){return({"vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~2df69e":"vendors~node_modules_reduxjs_toolkit_dist_redux-toolkit_esm_js~node_modules_lodash_groupBy_js~2df69e.main.js"})[e]},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t=[],a.O=function(e,r,n,o){if(r){o=o||0;for(var i=t.length;i>0&&t[i-1][2]>o;i--)t[i]=t[i-1];t[i]=[r,n,o];return}for(var s=1/0,i=0;i<t.length;i++){for(var r=t[i][0],n=t[i][1],o=t[i][2],l=!0,u=0;u<r.length;u++)s>=o&&Object.keys(a.O).every(function(e){return a.O[e](r[u])})?r.splice(u--,1):(l=!1,o<s&&(s=o));if(l){t.splice(i--,1);var d=n();void 0!==d&&(e=d)}}return e},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){return e&&e.__esModule?e.default:e},a.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},r={src_Workers_group_worker_ts:1},a.f.i=function(e,t){!r[e]&&(e?importScripts(a.p+a.u(e)):r[e]=1)},n=self.webpackChunkmy_sample_typescript_app=self.webpackChunkmy_sample_typescript_app||[],o=n.push.bind(n),n.push=function(e){var t=e[0],n=e[1],i=e[2];for(var s in n)a.o(n,s)&&(a.m[s]=n[s]);for(i&&i(a);t.length;)r[t.pop()]=1;o(e)},a.x()}();
//# sourceMappingURL=src_Workers_group_worker_ts.main.js.map