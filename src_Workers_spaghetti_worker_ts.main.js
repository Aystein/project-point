!function(){var e,n,t,r,i,a={632549:function(e,n,t){var r=t("377235"),i=t("34570"),a=t("931971");e.exports=function(e,n){var t={};return n=a(n,3),i(e,function(e,i,a){r(t,i,n(e,i,a))}),t}},801163:function(e,n,t){"use strict";t.r(n),t.d(n,{scaleToWorld:function(){return a},forceNormalizationNew:function(){return o}});var r=t("75405"),i=t("10398");function a(e){let n=(0,r.scaleLinear)().domain([0,1]).range([e.x,e.x+e.width]),t=(0,r.scaleLinear)().domain([0,1]).range([e.y,e.y+e.height]);return[n,t]}function o(e){let n=500/e.width,t=(0,r.scaleLinear)().domain([0,1]).range([0,e.width*n]),a=(0,r.scaleLinear)().domain([0,1]).range([0,e.height*n]),o=(0,r.scaleLinear)().domain([0,1]).range([e.x+.01*e.width,e.x+.99*e.width]),u=(0,r.scaleLinear)().domain([0,1]).range([e.y+.01*e.height,e.y+.99*e.height]);return[t,a,o,u,i.POINT_RADIUS*n]}},10398:function(e,n,t){"use strict";t.r(n),t.d(n,{POINT_RADIUS:function(){return r}});let r=.012},629119:function(e,n,t){"use strict";t.r(n),t.d(n,{getMinMax:function(){return i},spread:function(){return o},scaleInto:function(){return u},normalizeVectors01:function(){return c},pointInPolygon:function(){return l}});var r=t("75405");function i(e){let n=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return e.forEach(e=>{n=Math.min(n,e),t=Math.max(t,e)}),[n,t]}function a(e){let n=1e3,t=-1e3,r=1e3,i=-1e3;return e.forEach(e=>{n=Math.min(n,e.x),t=Math.max(t,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)}),{minX:n,maxX:t,minY:r,maxY:i,centerX:(n+t)/2,centerY:(r+i)/2,extentX:t-n,extentY:i-r}}function o(e,n){return e-n+2*Math.random()*n}function u(e){let n=a(e);if(n.extentX>=n.extentY){let t=10-n.centerX,i=(0,r.scaleLinear)().domain([n.minX,n.maxX]).range([n.minX+t,n.maxX+t]),a=(0,r.scaleLinear)().domain([n.minY,n.maxY]).range([10-n.extentY/2,10+n.extentY/2]);return[e.map(e=>({x:i(e.x),y:a(e.y)})),n.extentX]}if(n.extentX<n.extentY){let t=10-n.centerY,i=(0,r.scaleLinear)().domain([n.minX,n.maxX]).range([10-n.extentX/2,10+n.extentX/2]),a=(0,r.scaleLinear)().domain([n.minY,n.maxY]).range([n.minY+t,n.maxY+t]);return[e.map(e=>({x:i(e.x),y:a(e.y)})),n.extentY]}}function c(e){let n,t;let i=a(e);if(i.extentX>=i.extentY){let e=i.extentY/i.extentX;n=(0,r.scaleLinear)().domain([i.minX,i.maxX]).range([0,1]),t=(0,r.scaleLinear)().domain([i.minY,i.maxY]).range([1-e,e])}else{let e=i.extentX/i.extentY;n=(0,r.scaleLinear)().domain([i.minX,i.maxX]).range([1-e,e]),t=(0,r.scaleLinear)().domain([i.minY,i.maxY]).range([0,1])}return e.map(e=>({x:n(e.x),y:t(e.y)}))}function l(e,n,t){let r=0;for(let i=0,a=t.length-1;i<t.length;a=i,i+=1){let[o,u]=t[a],[c,l]=t[i];l>n!=u>n&&e<(o-c)*(n-l)/(u-l)+c&&(r+=1)}return 1&r}},790014:function(e,n,t){"use strict";t.r(n);var r=t("814796"),i=t.n(r),a=t("905269"),o=t.n(a),u=t("801163"),c=t("632549"),l=t.n(c),s=t("10398"),d=t("75405"),f=t("629119"),m=function(e,n){if(!n.length)return e;var t=n[0],r=n.slice(1);return l(i(e,t),function(e){return m(e,r)})};self.onmessage=({data:{X:e,area:n,type:t,features:r,axis:a,secondary:c}})=>{if("init"!==t)return;let l=e.map((e,n)=>({relativeIndex:n,value:e})),x=e.length,h=i(l,e=>e.value[r[0]]),p=m(l,r.map(e=>n=>n.value[e]));r.map(n=>new Set(e.map(e=>e[n])).size);let g=Array(x),[_,y,v,b,X]=(0,u.forceNormalizationNew)(n);o(h).length,o(h).map(e=>h[e].length);let Y=0,w=(0,d.scaleLinear)().domain((0,f.getMinMax)(e.map(e=>e[c]))).range("y"===a?[n.x,n.x+n.width]:[n.y,n.y+n.height]);!function e(n){o(n).length;let t=0;o(n).forEach(r=>{let i=n[r];Array.isArray(i)?(t+=2*s.POINT_RADIUS,i.forEach(e=>{let n=w(e.value[c]),r=Y+t;g[e.relativeIndex]={x:"y"===a?n:r,y:"y"===a?r:n}})):e(i)}),Y+=t+5*s.POINT_RADIUS}(p),self.postMessage({type:"finish",Y:g.map(e=>({x:e.x,y:"y"===a?n.y+e.y:e.y})),labels:[{discriminator:"positionedlabels",type:a,labels:[]}]})}}},o={};function u(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return a[e](t,t.exports,u),t.loaded=!0,t.exports}u.m=a,u.x=function(){var e=u.O(void 0,["vendors~node_modules_d3-scale_src_index_js","vendors~node_modules_lodash_groupBy_js"],function(){return u("790014")});return e=u.O(e)},e=u.x,u.x=function(){return Promise.all(["vendors~node_modules_d3-scale_src_index_js","vendors~node_modules_lodash_groupBy_js"].map(u.e,u)).then(e)},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce(function(n,t){return u.f[t](e,n),n},[]))},u.u=function(e){return({"vendors~node_modules_d3-scale_src_index_js":"vendors~node_modules_d3-scale_src_index_js.main.js","vendors~node_modules_lodash_groupBy_js":"vendors~node_modules_lodash_groupBy_js.main.js"})[e]},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n=[],u.O=function(e,t,r,i){if(t){i=i||0;for(var a=n.length;a>0&&n[a-1][2]>i;a--)n[a]=n[a-1];n[a]=[t,r,i];return}for(var o=1/0,a=0;a<n.length;a++){for(var t=n[a][0],r=n[a][1],i=n[a][2],c=!0,l=0;l<t.length;l++)o>=i&&Object.keys(u.O).every(function(e){return u.O[e](t[l])})?t.splice(l--,1):(c=!1,i<o&&(o=i));if(c){n.splice(a--,1);var s=r();void 0!==s&&(e=s)}}return e},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.d=function(e,n){for(var t in n)u.o(n,t)&&!u.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.n=function(e){return e&&e.__esModule?e.default:e},u.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},t={src_Workers_spaghetti_worker_ts:1},u.f.i=function(e,n){!t[e]&&importScripts(u.p+u.u(e))},i=(r=self.webpackChunkliqvis=self.webpackChunkliqvis||[]).push.bind(r),r.push=function(e){var n=e[0],r=e[1],a=e[2];for(var o in r)u.o(r,o)&&(u.m[o]=r[o]);for(a&&a(u);n.length;)t[n.pop()]=1;i(e)},!function(){u.g.importScripts&&(e=u.g.location+"");var e,n=u.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length){for(var r=t.length-1;r>-1&&!e;)e=t[r--].src}}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e}(),u.x()}();
//# sourceMappingURL=src_Workers_spaghetti_worker_ts.main.js.map