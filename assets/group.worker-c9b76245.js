(function(){"use strict";var ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wt=typeof ee=="object"&&ee&&ee.Object===Object&&ee,er=wt,At=er,Mt=typeof self=="object"&&self&&self.Object===Object&&self,Tt=At||Mt||Function("return this")(),P=Tt,St=P,Pt=St.Symbol,re=Pt,rr=re,tr=Object.prototype,Ot=tr.hasOwnProperty,Ct=tr.toString,K=rr?rr.toStringTag:void 0;function Nt(e){var r=Ot.call(e,K),t=e[K];try{e[K]=void 0;var n=!0}catch{}var a=Ct.call(e);return n&&(r?e[K]=t:delete e[K]),a}var It=Nt,Et=Object.prototype,jt=Et.toString;function Rt(e){return jt.call(e)}var Dt=Rt,nr=re,Lt=It,Ft=Dt,Gt="[object Null]",Ht="[object Undefined]",ar=nr?nr.toStringTag:void 0;function kt(e){return e==null?e===void 0?Ht:Gt:ar&&ar in Object(e)?Lt(e):Ft(e)}var U=kt;function zt(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Te=zt,Bt=U,qt=Te,Kt="[object AsyncFunction]",Ut="[object Function]",Xt="[object GeneratorFunction]",Yt="[object Proxy]";function Wt(e){if(!qt(e))return!1;var r=Bt(e);return r==Ut||r==Xt||r==Kt||r==Yt}var ir=Wt,Zt=P,Jt=Zt["__core-js_shared__"],Qt=Jt,Se=Qt,sr=function(){var e=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vt(e){return!!sr&&sr in e}var en=Vt,rn=Function.prototype,tn=rn.toString;function nn(e){if(e!=null){try{return tn.call(e)}catch{}try{return e+""}catch{}}return""}var or=nn,an=ir,sn=en,on=Te,fn=or,un=/[\\^$.*+?()[\]{}|]/g,cn=/^\[object .+?Constructor\]$/,ln=Function.prototype,hn=Object.prototype,gn=ln.toString,dn=hn.hasOwnProperty,pn=RegExp("^"+gn.call(dn).replace(un,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vn(e){if(!on(e)||sn(e))return!1;var r=an(e)?pn:cn;return r.test(fn(e))}var yn=vn;function bn(e,r){return e?.[r]}var $n=bn,mn=yn,xn=$n;function _n(e,r){var t=xn(e,r);return mn(t)?t:void 0}var N=_n,wn=N,An=function(){try{var e=wn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Mn=An,fr=Mn;function Tn(e,r,t){r=="__proto__"&&fr?fr(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Sn=Tn;function Pn(e,r,t,n){for(var a=-1,i=e==null?0:e.length;++a<i;){var s=e[a];r(n,s,t(s),e)}return n}var On=Pn;function Cn(e){return function(r,t,n){for(var a=-1,i=Object(r),s=n(r),o=s.length;o--;){var u=s[e?o:++a];if(t(i[u],u,i)===!1)break}return r}}var Nn=Cn,In=Nn,En=In(),jn=En;function Rn(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Dn=Rn;function Ln(e){return e!=null&&typeof e=="object"}var X=Ln,Fn=U,Gn=X,Hn="[object Arguments]";function kn(e){return Gn(e)&&Fn(e)==Hn}var zn=kn,ur=zn,Bn=X,cr=Object.prototype,qn=cr.hasOwnProperty,Kn=cr.propertyIsEnumerable,Un=ur(function(){return arguments}())?ur:function(e){return Bn(e)&&qn.call(e,"callee")&&!Kn.call(e,"callee")},lr=Un,Xn=Array.isArray,O=Xn,te={exports:{}};function Yn(){return!1}var Wn=Yn;te.exports,function(e,r){var t=P,n=Wn,a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?t.Buffer:void 0,u=o?o.isBuffer:void 0,f=u||n;e.exports=f}(te,te.exports);var hr=te.exports,Zn=9007199254740991,Jn=/^(?:0|[1-9]\d*)$/;function Qn(e,r){var t=typeof e;return r=r??Zn,!!r&&(t=="number"||t!="symbol"&&Jn.test(e))&&e>-1&&e%1==0&&e<r}var gr=Qn,Vn=9007199254740991;function ea(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vn}var Pe=ea,ra=U,ta=Pe,na=X,aa="[object Arguments]",ia="[object Array]",sa="[object Boolean]",oa="[object Date]",fa="[object Error]",ua="[object Function]",ca="[object Map]",la="[object Number]",ha="[object Object]",ga="[object RegExp]",da="[object Set]",pa="[object String]",va="[object WeakMap]",ya="[object ArrayBuffer]",ba="[object DataView]",$a="[object Float32Array]",ma="[object Float64Array]",xa="[object Int8Array]",_a="[object Int16Array]",wa="[object Int32Array]",Aa="[object Uint8Array]",Ma="[object Uint8ClampedArray]",Ta="[object Uint16Array]",Sa="[object Uint32Array]",d={};d[$a]=d[ma]=d[xa]=d[_a]=d[wa]=d[Aa]=d[Ma]=d[Ta]=d[Sa]=!0,d[aa]=d[ia]=d[ya]=d[sa]=d[ba]=d[oa]=d[fa]=d[ua]=d[ca]=d[la]=d[ha]=d[ga]=d[da]=d[pa]=d[va]=!1;function Pa(e){return na(e)&&ta(e.length)&&!!d[ra(e)]}var Oa=Pa;function Ca(e){return function(r){return e(r)}}var Na=Ca,ne={exports:{}};ne.exports,function(e,r){var t=er,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&t.process,o=function(){try{var u=a&&a.require&&a.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(ne,ne.exports);var Ia=ne.exports,Ea=Oa,ja=Na,dr=Ia,pr=dr&&dr.isTypedArray,Ra=pr?ja(pr):Ea,vr=Ra,Da=Dn,La=lr,Fa=O,Ga=hr,Ha=gr,ka=vr,za=Object.prototype,Ba=za.hasOwnProperty;function qa(e,r){var t=Fa(e),n=!t&&La(e),a=!t&&!n&&Ga(e),i=!t&&!n&&!a&&ka(e),s=t||n||a||i,o=s?Da(e.length,String):[],u=o.length;for(var f in e)(r||Ba.call(e,f))&&!(s&&(f=="length"||a&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Ha(f,u)))&&o.push(f);return o}var Ka=qa,Ua=Object.prototype;function Xa(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Ua;return e===t}var Ya=Xa;function Wa(e,r){return function(t){return e(r(t))}}var Za=Wa,Ja=Za,Qa=Ja(Object.keys,Object),Va=Qa,ei=Ya,ri=Va,ti=Object.prototype,ni=ti.hasOwnProperty;function ai(e){if(!ei(e))return ri(e);var r=[];for(var t in Object(e))ni.call(e,t)&&t!="constructor"&&r.push(t);return r}var ii=ai,si=ir,oi=Pe;function fi(e){return e!=null&&oi(e.length)&&!si(e)}var yr=fi,ui=Ka,ci=ii,li=yr;function hi(e){return li(e)?ui(e):ci(e)}var ae=hi,Oe=Ve(ae),gi=jn,di=ae;function pi(e,r){return e&&gi(e,r,di)}var vi=pi,yi=yr;function bi(e,r){return function(t,n){if(t==null)return t;if(!yi(t))return e(t,n);for(var a=t.length,i=r?a:-1,s=Object(t);(r?i--:++i<a)&&n(s[i],i,s)!==!1;);return t}}var $i=bi,mi=vi,xi=$i,_i=xi(mi),wi=_i,Ai=wi;function Mi(e,r,t,n){return Ai(e,function(a,i,s){r(n,a,t(a),s)}),n}var Ti=Mi;function Si(){this.__data__=[],this.size=0}var Pi=Si;function Oi(e,r){return e===r||e!==e&&r!==r}var br=Oi,Ci=br;function Ni(e,r){for(var t=e.length;t--;)if(Ci(e[t][0],r))return t;return-1}var ie=Ni,Ii=ie,Ei=Array.prototype,ji=Ei.splice;function Ri(e){var r=this.__data__,t=Ii(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ji.call(r,t,1),--this.size,!0}var Di=Ri,Li=ie;function Fi(e){var r=this.__data__,t=Li(r,e);return t<0?void 0:r[t][1]}var Gi=Fi,Hi=ie;function ki(e){return Hi(this.__data__,e)>-1}var zi=ki,Bi=ie;function qi(e,r){var t=this.__data__,n=Bi(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var Ki=qi,Ui=Pi,Xi=Di,Yi=Gi,Wi=zi,Zi=Ki;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}D.prototype.clear=Ui,D.prototype.delete=Xi,D.prototype.get=Yi,D.prototype.has=Wi,D.prototype.set=Zi;var se=D,Ji=se;function Qi(){this.__data__=new Ji,this.size=0}var Vi=Qi;function es(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var rs=es;function ts(e){return this.__data__.get(e)}var ns=ts;function as(e){return this.__data__.has(e)}var is=as,ss=N,os=P,fs=ss(os,"Map"),Ce=fs,us=N,cs=us(Object,"create"),oe=cs,$r=oe;function ls(){this.__data__=$r?$r(null):{},this.size=0}var hs=ls;function gs(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var ds=gs,ps=oe,vs="__lodash_hash_undefined__",ys=Object.prototype,bs=ys.hasOwnProperty;function $s(e){var r=this.__data__;if(ps){var t=r[e];return t===vs?void 0:t}return bs.call(r,e)?r[e]:void 0}var ms=$s,xs=oe,_s=Object.prototype,ws=_s.hasOwnProperty;function As(e){var r=this.__data__;return xs?r[e]!==void 0:ws.call(r,e)}var Ms=As,Ts=oe,Ss="__lodash_hash_undefined__";function Ps(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Ts&&r===void 0?Ss:r,this}var Os=Ps,Cs=hs,Ns=ds,Is=ms,Es=Ms,js=Os;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}L.prototype.clear=Cs,L.prototype.delete=Ns,L.prototype.get=Is,L.prototype.has=Es,L.prototype.set=js;var Rs=L,mr=Rs,Ds=se,Ls=Ce;function Fs(){this.size=0,this.__data__={hash:new mr,map:new(Ls||Ds),string:new mr}}var Gs=Fs;function Hs(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ks=Hs,zs=ks;function Bs(e,r){var t=e.__data__;return zs(r)?t[typeof r=="string"?"string":"hash"]:t.map}var fe=Bs,qs=fe;function Ks(e){var r=qs(this,e).delete(e);return this.size-=r?1:0,r}var Us=Ks,Xs=fe;function Ys(e){return Xs(this,e).get(e)}var Ws=Ys,Zs=fe;function Js(e){return Zs(this,e).has(e)}var Qs=Js,Vs=fe;function eo(e,r){var t=Vs(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var ro=eo,to=Gs,no=Us,ao=Ws,io=Qs,so=ro;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}F.prototype.clear=to,F.prototype.delete=no,F.prototype.get=ao,F.prototype.has=io,F.prototype.set=so;var Ne=F,oo=se,fo=Ce,uo=Ne,co=200;function lo(e,r){var t=this.__data__;if(t instanceof oo){var n=t.__data__;if(!fo||n.length<co-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new uo(n)}return t.set(e,r),this.size=t.size,this}var ho=lo,go=se,po=Vi,vo=rs,yo=ns,bo=is,$o=ho;function G(e){var r=this.__data__=new go(e);this.size=r.size}G.prototype.clear=po,G.prototype.delete=vo,G.prototype.get=yo,G.prototype.has=bo,G.prototype.set=$o;var xr=G,mo="__lodash_hash_undefined__";function xo(e){return this.__data__.set(e,mo),this}var _o=xo;function wo(e){return this.__data__.has(e)}var Ao=wo,Mo=Ne,To=_o,So=Ao;function ue(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Mo;++r<t;)this.add(e[r])}ue.prototype.add=ue.prototype.push=To,ue.prototype.has=So;var Po=ue;function Oo(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Co=Oo;function No(e,r){return e.has(r)}var Io=No,Eo=Po,jo=Co,Ro=Io,Do=1,Lo=2;function Fo(e,r,t,n,a,i){var s=t&Do,o=e.length,u=r.length;if(o!=u&&!(s&&u>o))return!1;var f=i.get(e),l=i.get(r);if(f&&l)return f==r&&l==e;var c=-1,h=!0,b=t&Lo?new Eo:void 0;for(i.set(e,r),i.set(r,e);++c<o;){var p=e[c],m=r[c];if(n)var $=s?n(m,p,c,r,e,i):n(p,m,c,e,r,i);if($!==void 0){if($)continue;h=!1;break}if(b){if(!jo(r,function(x,w){if(!Ro(b,w)&&(p===x||a(p,x,t,n,i)))return b.push(w)})){h=!1;break}}else if(!(p===m||a(p,m,t,n,i))){h=!1;break}}return i.delete(e),i.delete(r),h}var _r=Fo,Go=P,Ho=Go.Uint8Array,ko=Ho;function zo(e){var r=-1,t=Array(e.size);return e.forEach(function(n,a){t[++r]=[a,n]}),t}var Bo=zo;function qo(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var Ko=qo,wr=re,Ar=ko,Uo=br,Xo=_r,Yo=Bo,Wo=Ko,Zo=1,Jo=2,Qo="[object Boolean]",Vo="[object Date]",ef="[object Error]",rf="[object Map]",tf="[object Number]",nf="[object RegExp]",af="[object Set]",sf="[object String]",of="[object Symbol]",ff="[object ArrayBuffer]",uf="[object DataView]",Mr=wr?wr.prototype:void 0,Ie=Mr?Mr.valueOf:void 0;function cf(e,r,t,n,a,i,s){switch(t){case uf:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case ff:return!(e.byteLength!=r.byteLength||!i(new Ar(e),new Ar(r)));case Qo:case Vo:case tf:return Uo(+e,+r);case ef:return e.name==r.name&&e.message==r.message;case nf:case sf:return e==r+"";case rf:var o=Yo;case af:var u=n&Zo;if(o||(o=Wo),e.size!=r.size&&!u)return!1;var f=s.get(e);if(f)return f==r;n|=Jo,s.set(e,r);var l=Xo(o(e),o(r),n,a,i,s);return s.delete(e),l;case of:if(Ie)return Ie.call(e)==Ie.call(r)}return!1}var lf=cf;function hf(e,r){for(var t=-1,n=r.length,a=e.length;++t<n;)e[a+t]=r[t];return e}var gf=hf,df=gf,pf=O;function vf(e,r,t){var n=r(e);return pf(e)?n:df(n,t(e))}var yf=vf;function bf(e,r){for(var t=-1,n=e==null?0:e.length,a=0,i=[];++t<n;){var s=e[t];r(s,t,e)&&(i[a++]=s)}return i}var $f=bf;function mf(){return[]}var xf=mf,_f=$f,wf=xf,Af=Object.prototype,Mf=Af.propertyIsEnumerable,Tr=Object.getOwnPropertySymbols,Tf=Tr?function(e){return e==null?[]:(e=Object(e),_f(Tr(e),function(r){return Mf.call(e,r)}))}:wf,Sf=Tf,Pf=yf,Of=Sf,Cf=ae;function Nf(e){return Pf(e,Cf,Of)}var If=Nf,Sr=If,Ef=1,jf=Object.prototype,Rf=jf.hasOwnProperty;function Df(e,r,t,n,a,i){var s=t&Ef,o=Sr(e),u=o.length,f=Sr(r),l=f.length;if(u!=l&&!s)return!1;for(var c=u;c--;){var h=o[c];if(!(s?h in r:Rf.call(r,h)))return!1}var b=i.get(e),p=i.get(r);if(b&&p)return b==r&&p==e;var m=!0;i.set(e,r),i.set(r,e);for(var $=s;++c<u;){h=o[c];var x=e[h],w=r[h];if(n)var v=s?n(w,x,h,r,e,i):n(x,w,h,e,r,i);if(!(v===void 0?x===w||a(x,w,t,n,i):v)){m=!1;break}$||($=h=="constructor")}if(m&&!$){var A=e.constructor,y=r.constructor;A!=y&&"constructor"in e&&"constructor"in r&&!(typeof A=="function"&&A instanceof A&&typeof y=="function"&&y instanceof y)&&(m=!1)}return i.delete(e),i.delete(r),m}var Lf=Df,Ff=N,Gf=P,Hf=Ff(Gf,"DataView"),kf=Hf,zf=N,Bf=P,qf=zf(Bf,"Promise"),Kf=qf,Uf=N,Xf=P,Yf=Uf(Xf,"Set"),Wf=Yf,Zf=N,Jf=P,Qf=Zf(Jf,"WeakMap"),Vf=Qf,Ee=kf,je=Ce,Re=Kf,De=Wf,Le=Vf,Pr=U,H=or,Or="[object Map]",eu="[object Object]",Cr="[object Promise]",Nr="[object Set]",Ir="[object WeakMap]",Er="[object DataView]",ru=H(Ee),tu=H(je),nu=H(Re),au=H(De),iu=H(Le),I=Pr;(Ee&&I(new Ee(new ArrayBuffer(1)))!=Er||je&&I(new je)!=Or||Re&&I(Re.resolve())!=Cr||De&&I(new De)!=Nr||Le&&I(new Le)!=Ir)&&(I=function(e){var r=Pr(e),t=r==eu?e.constructor:void 0,n=t?H(t):"";if(n)switch(n){case ru:return Er;case tu:return Or;case nu:return Cr;case au:return Nr;case iu:return Ir}return r});var su=I,Fe=xr,ou=_r,fu=lf,uu=Lf,jr=su,Rr=O,Dr=hr,cu=vr,lu=1,Lr="[object Arguments]",Fr="[object Array]",ce="[object Object]",hu=Object.prototype,Gr=hu.hasOwnProperty;function gu(e,r,t,n,a,i){var s=Rr(e),o=Rr(r),u=s?Fr:jr(e),f=o?Fr:jr(r);u=u==Lr?ce:u,f=f==Lr?ce:f;var l=u==ce,c=f==ce,h=u==f;if(h&&Dr(e)){if(!Dr(r))return!1;s=!0,l=!1}if(h&&!l)return i||(i=new Fe),s||cu(e)?ou(e,r,t,n,a,i):fu(e,r,u,t,n,a,i);if(!(t&lu)){var b=l&&Gr.call(e,"__wrapped__"),p=c&&Gr.call(r,"__wrapped__");if(b||p){var m=b?e.value():e,$=p?r.value():r;return i||(i=new Fe),a(m,$,t,n,i)}}return h?(i||(i=new Fe),uu(e,r,t,n,a,i)):!1}var du=gu,pu=du,Hr=X;function kr(e,r,t,n,a){return e===r?!0:e==null||r==null||!Hr(e)&&!Hr(r)?e!==e&&r!==r:pu(e,r,t,n,kr,a)}var zr=kr,vu=xr,yu=zr,bu=1,$u=2;function mu(e,r,t,n){var a=t.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=t[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=t[a];var u=o[0],f=e[u],l=o[1];if(s&&o[2]){if(f===void 0&&!(u in e))return!1}else{var c=new vu;if(n)var h=n(f,l,u,e,r,c);if(!(h===void 0?yu(l,f,bu|$u,n,c):h))return!1}}return!0}var xu=mu,_u=Te;function wu(e){return e===e&&!_u(e)}var Br=wu,Au=Br,Mu=ae;function Tu(e){for(var r=Mu(e),t=r.length;t--;){var n=r[t],a=e[n];r[t]=[n,a,Au(a)]}return r}var Su=Tu;function Pu(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var qr=Pu,Ou=xu,Cu=Su,Nu=qr;function Iu(e){var r=Cu(e);return r.length==1&&r[0][2]?Nu(r[0][0],r[0][1]):function(t){return t===e||Ou(t,e,r)}}var Eu=Iu,ju=U,Ru=X,Du="[object Symbol]";function Lu(e){return typeof e=="symbol"||Ru(e)&&ju(e)==Du}var Ge=Lu,Fu=O,Gu=Ge,Hu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ku=/^\w*$/;function zu(e,r){if(Fu(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Gu(e)?!0:ku.test(e)||!Hu.test(e)||r!=null&&e in Object(r)}var He=zu,Kr=Ne,Bu="Expected a function";function ke(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Bu);var t=function(){var n=arguments,a=r?r.apply(this,n):n[0],i=t.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return t.cache=i.set(a,s)||i,s};return t.cache=new(ke.Cache||Kr),t}ke.Cache=Kr;var qu=ke,Ku=qu,Uu=500;function Xu(e){var r=Ku(e,function(n){return t.size===Uu&&t.clear(),n}),t=r.cache;return r}var Yu=Xu,Wu=Yu,Zu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ju=/\\(\\)?/g,Qu=Wu(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Zu,function(t,n,a,i){r.push(a?i.replace(Ju,"$1"):n||t)}),r}),Vu=Qu;function ec(e,r){for(var t=-1,n=e==null?0:e.length,a=Array(n);++t<n;)a[t]=r(e[t],t,e);return a}var rc=ec,Ur=re,tc=rc,nc=O,ac=Ge,ic=1/0,Xr=Ur?Ur.prototype:void 0,Yr=Xr?Xr.toString:void 0;function Wr(e){if(typeof e=="string")return e;if(nc(e))return tc(e,Wr)+"";if(ac(e))return Yr?Yr.call(e):"";var r=e+"";return r=="0"&&1/e==-ic?"-0":r}var sc=Wr,oc=sc;function fc(e){return e==null?"":oc(e)}var uc=fc,cc=O,lc=He,hc=Vu,gc=uc;function dc(e,r){return cc(e)?e:lc(e,r)?[e]:hc(gc(e))}var Zr=dc,pc=Ge,vc=1/0;function yc(e){if(typeof e=="string"||pc(e))return e;var r=e+"";return r=="0"&&1/e==-vc?"-0":r}var le=yc,bc=Zr,$c=le;function mc(e,r){r=bc(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[$c(r[t++])];return t&&t==n?e:void 0}var Jr=mc,xc=Jr;function _c(e,r,t){var n=e==null?void 0:xc(e,r);return n===void 0?t:n}var wc=_c;function Ac(e,r){return e!=null&&r in Object(e)}var Mc=Ac,Tc=Zr,Sc=lr,Pc=O,Oc=gr,Cc=Pe,Nc=le;function Ic(e,r,t){r=Tc(r,e);for(var n=-1,a=r.length,i=!1;++n<a;){var s=Nc(r[n]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Cc(a)&&Oc(s,a)&&(Pc(e)||Sc(e)))}var Ec=Ic,jc=Mc,Rc=Ec;function Dc(e,r){return e!=null&&Rc(e,r,jc)}var Lc=Dc,Fc=zr,Gc=wc,Hc=Lc,kc=He,zc=Br,Bc=qr,qc=le,Kc=1,Uc=2;function Xc(e,r){return kc(e)&&zc(r)?Bc(qc(e),r):function(t){var n=Gc(t,e);return n===void 0&&n===r?Hc(t,e):Fc(r,n,Kc|Uc)}}var Yc=Xc;function Wc(e){return e}var Zc=Wc;function Jc(e){return function(r){return r?.[e]}}var Qc=Jc,Vc=Jr;function el(e){return function(r){return Vc(r,e)}}var rl=el,tl=Qc,nl=rl,al=He,il=le;function sl(e){return al(e)?tl(il(e)):nl(e)}var ol=sl,fl=Eu,ul=Yc,cl=Zc,ll=O,hl=ol;function gl(e){return typeof e=="function"?e:e==null?cl:typeof e=="object"?ll(e)?ul(e[0],e[1]):fl(e):hl(e)}var dl=gl,pl=On,vl=Ti,yl=dl,bl=O;function $l(e,r){return function(t,n){var a=bl(t)?pl:vl,i=r?r():{};return a(t,e,yl(n),i)}}var ml=$l,xl=Sn,_l=ml,wl=Object.prototype,Al=wl.hasOwnProperty,Ml=_l(function(e,r,t){Al.call(e,t)?e[t].push(r):xl(e,t,[r])}),Tl=Ml,Sl=Ve(Tl);function he(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Pl(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Qr(e){let r,t,n;e.length!==2?(r=he,t=(o,u)=>he(e(o),u),n=(o,u)=>e(o)-u):(r=e===he||e===Pl?e:Ol,t=e,n=e);function a(o,u,f=0,l=o.length){if(f<l){if(r(u,u)!==0)return l;do{const c=f+l>>>1;t(o[c],u)<0?f=c+1:l=c}while(f<l)}return f}function i(o,u,f=0,l=o.length){if(f<l){if(r(u,u)!==0)return l;do{const c=f+l>>>1;t(o[c],u)<=0?f=c+1:l=c}while(f<l)}return f}function s(o,u,f=0,l=o.length){const c=a(o,u,f,l-1);return c>f&&n(o[c-1],u)>-n(o[c],u)?c-1:c}return{left:a,center:s,right:i}}function Ol(){return 0}function Cl(e){return e===null?NaN:+e}const Nl=Qr(he).right;Qr(Cl).center;var Il=Nl;const El=Math.sqrt(50),jl=Math.sqrt(10),Rl=Math.sqrt(2);function ge(e,r,t){const n=(r-e)/Math.max(0,t),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=El?10:i>=jl?5:i>=Rl?2:1;let o,u,f;return a<0?(f=Math.pow(10,-a)/s,o=Math.round(e*f),u=Math.round(r*f),o/f<e&&++o,u/f>r&&--u,f=-f):(f=Math.pow(10,a)*s,o=Math.round(e/f),u=Math.round(r/f),o*f<e&&++o,u*f>r&&--u),u<o&&.5<=t&&t<2?ge(e,r,t*2):[o,u,f]}function Dl(e,r,t){if(r=+r,e=+e,t=+t,!(t>0))return[];if(e===r)return[e];const n=r<e,[a,i,s]=n?ge(r,e,t):ge(e,r,t);if(!(i>=a))return[];const o=i-a+1,u=new Array(o);if(n)if(s<0)for(let f=0;f<o;++f)u[f]=(i-f)/-s;else for(let f=0;f<o;++f)u[f]=(i-f)*s;else if(s<0)for(let f=0;f<o;++f)u[f]=(a+f)/-s;else for(let f=0;f<o;++f)u[f]=(a+f)*s;return u}function ze(e,r,t){return r=+r,e=+e,t=+t,ge(e,r,t)[2]}function Ll(e,r,t){r=+r,e=+e,t=+t;const n=r<e,a=n?ze(r,e,t):ze(e,r,t);return(n?-1:1)*(a<0?1/-a:a)}function Fl(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Be(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function Vr(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function Y(){}var W=.7,de=1/W,k="\\s*([+-]?\\d+)\\s*",Z="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",S="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gl=/^#([0-9a-f]{3,8})$/,Hl=new RegExp(`^rgb\\(${k},${k},${k}\\)$`),kl=new RegExp(`^rgb\\(${S},${S},${S}\\)$`),zl=new RegExp(`^rgba\\(${k},${k},${k},${Z}\\)$`),Bl=new RegExp(`^rgba\\(${S},${S},${S},${Z}\\)$`),ql=new RegExp(`^hsl\\(${Z},${S},${S}\\)$`),Kl=new RegExp(`^hsla\\(${Z},${S},${S},${Z}\\)$`),et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Be(Y,J,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rt,formatHex:rt,formatHex8:Ul,formatHsl:Xl,formatRgb:tt,toString:tt});function rt(){return this.rgb().formatHex()}function Ul(){return this.rgb().formatHex8()}function Xl(){return ot(this).formatHsl()}function tt(){return this.rgb().formatRgb()}function J(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=Gl.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?nt(r):t===3?new _(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?pe(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?pe(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Hl.exec(e))?new _(r[1],r[2],r[3],1):(r=kl.exec(e))?new _(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=zl.exec(e))?pe(r[1],r[2],r[3],r[4]):(r=Bl.exec(e))?pe(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=ql.exec(e))?st(r[1],r[2]/100,r[3]/100,1):(r=Kl.exec(e))?st(r[1],r[2]/100,r[3]/100,r[4]):et.hasOwnProperty(e)?nt(et[e]):e==="transparent"?new _(NaN,NaN,NaN,0):null}function nt(e){return new _(e>>16&255,e>>8&255,e&255,1)}function pe(e,r,t,n){return n<=0&&(e=r=t=NaN),new _(e,r,t,n)}function Yl(e){return e instanceof Y||(e=J(e)),e?(e=e.rgb(),new _(e.r,e.g,e.b,e.opacity)):new _}function qe(e,r,t,n){return arguments.length===1?Yl(e):new _(e,r,t,n??1)}function _(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}Be(_,qe,Vr(Y,{brighter(e){return e=e==null?de:Math.pow(de,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?W:Math.pow(W,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _(E(this.r),E(this.g),E(this.b),ve(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:at,formatHex:at,formatHex8:Wl,formatRgb:it,toString:it}));function at(){return`#${j(this.r)}${j(this.g)}${j(this.b)}`}function Wl(){return`#${j(this.r)}${j(this.g)}${j(this.b)}${j((isNaN(this.opacity)?1:this.opacity)*255)}`}function it(){const e=ve(this.opacity);return`${e===1?"rgb(":"rgba("}${E(this.r)}, ${E(this.g)}, ${E(this.b)}${e===1?")":`, ${e})`}`}function ve(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function E(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function j(e){return e=E(e),(e<16?"0":"")+e.toString(16)}function st(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new T(e,r,t,n)}function ot(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof Y||(e=J(e)),!e)return new T;if(e instanceof T)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,a=Math.min(r,t,n),i=Math.max(r,t,n),s=NaN,o=i-a,u=(i+a)/2;return o?(r===i?s=(t-n)/o+(t<n)*6:t===i?s=(n-r)/o+2:s=(r-t)/o+4,o/=u<.5?i+a:2-i-a,s*=60):o=u>0&&u<1?0:s,new T(s,o,u,e.opacity)}function Zl(e,r,t,n){return arguments.length===1?ot(e):new T(e,r,t,n??1)}function T(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}Be(T,Zl,Vr(Y,{brighter(e){return e=e==null?de:Math.pow(de,e),new T(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?W:Math.pow(W,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,a=2*t-n;return new _(Ke(e>=240?e-240:e+120,a,n),Ke(e,a,n),Ke(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new T(ft(this.h),ye(this.s),ye(this.l),ve(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ve(this.opacity);return`${e===1?"hsl(":"hsla("}${ft(this.h)}, ${ye(this.s)*100}%, ${ye(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ft(e){return e=(e||0)%360,e<0?e+360:e}function ye(e){return Math.max(0,Math.min(1,e||0))}function Ke(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}var Ue=e=>()=>e;function Jl(e,r){return function(t){return e+t*r}}function Ql(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function Vl(e){return(e=+e)==1?ut:function(r,t){return t-r?Ql(r,t,e):Ue(isNaN(r)?t:r)}}function ut(e,r){var t=r-e;return t?Jl(e,t):Ue(isNaN(e)?r:e)}var ct=function e(r){var t=Vl(r);function n(a,i){var s=t((a=qe(a)).r,(i=qe(i)).r),o=t(a.g,i.g),u=t(a.b,i.b),f=ut(a.opacity,i.opacity);return function(l){return a.r=s(l),a.g=o(l),a.b=u(l),a.opacity=f(l),a+""}}return n.gamma=e,n}(1);function eh(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),a;return function(i){for(a=0;a<t;++a)n[a]=e[a]*(1-i)+r[a]*i;return n}}function rh(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function th(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,a=new Array(n),i=new Array(t),s;for(s=0;s<n;++s)a[s]=We(e[s],r[s]);for(;s<t;++s)i[s]=r[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function nh(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function be(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function ah(e,r){var t={},n={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?t[a]=We(e[a],r[a]):n[a]=r[a];return function(i){for(a in t)n[a]=t[a](i);return n}}var Xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ye=new RegExp(Xe.source,"g");function ih(e){return function(){return e}}function sh(e){return function(r){return e(r)+""}}function oh(e,r){var t=Xe.lastIndex=Ye.lastIndex=0,n,a,i,s=-1,o=[],u=[];for(e=e+"",r=r+"";(n=Xe.exec(e))&&(a=Ye.exec(r));)(i=a.index)>t&&(i=r.slice(t,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,u.push({i:s,x:be(n,a)})),t=Ye.lastIndex;return t<r.length&&(i=r.slice(t),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?sh(u[0].x):ih(r):(r=u.length,function(f){for(var l=0,c;l<r;++l)o[(c=u[l]).i]=c.x(f);return o.join("")})}function We(e,r){var t=typeof r,n;return r==null||t==="boolean"?Ue(r):(t==="number"?be:t==="string"?(n=J(r))?(r=n,ct):oh:r instanceof J?ct:r instanceof Date?nh:rh(r)?eh:Array.isArray(r)?th:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?ah:be)(e,r)}function fh(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}function uh(e){return function(){return e}}function ch(e){return+e}var lt=[0,1];function z(e){return e}function Ze(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:uh(isNaN(r)?NaN:.5)}function lh(e,r){var t;return e>r&&(t=e,e=r,r=t),function(n){return Math.max(e,Math.min(r,n))}}function hh(e,r,t){var n=e[0],a=e[1],i=r[0],s=r[1];return a<n?(n=Ze(a,n),i=t(s,i)):(n=Ze(n,a),i=t(i,s)),function(o){return i(n(o))}}function gh(e,r,t){var n=Math.min(e.length,r.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++s<n;)a[s]=Ze(e[s],e[s+1]),i[s]=t(r[s],r[s+1]);return function(o){var u=Il(e,o,1,n)-1;return i[u](a[u](o))}}function dh(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ph(){var e=lt,r=lt,t=We,n,a,i,s=z,o,u,f;function l(){var h=Math.min(e.length,r.length);return s!==z&&(s=lh(e[0],e[h-1])),o=h>2?gh:hh,u=f=null,c}function c(h){return h==null||isNaN(h=+h)?i:(u||(u=o(e.map(n),r,t)))(n(s(h)))}return c.invert=function(h){return s(a((f||(f=o(r,e.map(n),be)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,ch),l()):e.slice()},c.range=function(h){return arguments.length?(r=Array.from(h),l()):r.slice()},c.rangeRound=function(h){return r=Array.from(h),t=fh,l()},c.clamp=function(h){return arguments.length?(s=h?!0:z,l()):s!==z},c.interpolate=function(h){return arguments.length?(t=h,l()):t},c.unknown=function(h){return arguments.length?(i=h,c):i},function(h,b){return n=h,a=b,l()}}function vh(){return ph()(z,z)}function yh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $e(e,r){if((t=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var t,n=e.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+e.slice(t+1)]}function B(e){return e=$e(Math.abs(e)),e?e[1]:NaN}function bh(e,r){return function(t,n){for(var a=t.length,i=[],s=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),i.push(t.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(r)}}function $h(e){return function(r){return r.replace(/[0-9]/g,function(t){return e[+t]})}}var mh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function me(e){if(!(r=mh.exec(e)))throw new Error("invalid format: "+e);var r;return new Je({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}me.prototype=Je.prototype;function Je(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Je.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xh(e){e:for(var r=e.length,t=1,n=-1,a;t<r;++t)switch(e[t]){case".":n=a=t;break;case"0":n===0&&(n=t),a=t;break;default:if(!+e[t])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ht;function _h(e,r){var t=$e(e,r);if(!t)return e+"";var n=t[0],a=t[1],i=a-(ht=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+$e(e,Math.max(0,r+i-1))[0]}function gt(e,r){var t=$e(e,r);if(!t)return e+"";var n=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var dt={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yh,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>gt(e*100,r),r:gt,s:_h,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pt(e){return e}var vt=Array.prototype.map,yt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wh(e){var r=e.grouping===void 0||e.thousands===void 0?pt:bh(vt.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pt:$h(vt.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(c){c=me(c);var h=c.fill,b=c.align,p=c.sign,m=c.symbol,$=c.zero,x=c.width,w=c.comma,v=c.precision,A=c.trim,y=c.type;y==="n"?(w=!0,y="g"):dt[y]||(v===void 0&&(v=12),A=!0,y="g"),($||h==="0"&&b==="=")&&($=!0,h="0",b="=");var _e=m==="$"?t:m==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",Qe=m==="$"?n:/[%p]/.test(y)?s:"",V=dt[y],mt=/[defgprs%]/.test(y);v=v===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function xt(g){var R=_e,M=Qe,q,_t,we;if(y==="c")M=V(g)+M,g="";else{g=+g;var Ae=g<0||1/g<0;if(g=isNaN(g)?u:V(Math.abs(g),v),A&&(g=xh(g)),Ae&&+g==0&&p!=="+"&&(Ae=!1),R=(Ae?p==="("?p:o:p==="-"||p==="("?"":p)+R,M=(y==="s"?yt[8+ht/3]:"")+M+(Ae&&p==="("?")":""),mt){for(q=-1,_t=g.length;++q<_t;)if(we=g.charCodeAt(q),48>we||we>57){M=(we===46?a+g.slice(q+1):g.slice(q))+M,g=g.slice(0,q);break}}}w&&!$&&(g=r(g,1/0));var Me=R.length+g.length+M.length,C=Me<x?new Array(x-Me+1).join(h):"";switch(w&&$&&(g=r(C+g,C.length?x-M.length:1/0),C=""),b){case"<":g=R+g+M+C;break;case"=":g=R+C+g+M;break;case"^":g=C.slice(0,Me=C.length>>1)+R+g+M+C.slice(Me);break;default:g=C+R+g+M;break}return i(g)}return xt.toString=function(){return c+""},xt}function l(c,h){var b=f((c=me(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(B(h)/3)))*3,m=Math.pow(10,-p),$=yt[8+p/3];return function(x){return b(m*x)+$}}return{format:f,formatPrefix:l}}var xe,bt,$t;Ah({thousands:",",grouping:[3],currency:["$",""]});function Ah(e){return xe=wh(e),bt=xe.format,$t=xe.formatPrefix,xe}function Mh(e){return Math.max(0,-B(Math.abs(e)))}function Th(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(B(r)/3)))*3-B(Math.abs(e)))}function Sh(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,B(r)-B(e))+1}function Ph(e,r,t,n){var a=Ll(e,r,t),i;switch(n=me(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(r));return n.precision==null&&!isNaN(i=Th(a,s))&&(n.precision=i),$t(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Sh(a,Math.max(Math.abs(e),Math.abs(r))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Mh(a))&&(n.precision=i-(n.type==="%")*2);break}}return bt(n)}function Oh(e){var r=e.domain;return e.ticks=function(t){var n=r();return Dl(n[0],n[n.length-1],t??10)},e.tickFormat=function(t,n){var a=r();return Ph(a[0],a[a.length-1],t??10,n)},e.nice=function(t){t==null&&(t=10);var n=r(),a=0,i=n.length-1,s=n[a],o=n[i],u,f,l=10;for(o<s&&(f=s,s=o,o=f,f=a,a=i,i=f);l-- >0;){if(f=ze(s,o,t),f===u)return n[a]=s,n[i]=o,r(n);if(f>0)s=Math.floor(s/f)*f,o=Math.ceil(o/f)*f;else if(f<0)s=Math.ceil(s*f)/f,o=Math.floor(o*f)/f;else break;u=f}return e},e}function Q(){var e=vh();return e.copy=function(){return dh(e,Q())},Fl.apply(e,arguments),Oh(e)}const Ch=.012;function Nh(e){const r=500/e.width,t=Q().domain([0,1]).range([0,e.width*r]),n=Q().domain([0,1]).range([0,e.height*r]),a=Q().domain([0,1]).range([e.x+e.width*.01,e.x+e.width*.99]),i=Q().domain([0,1]).range([e.y+e.height*.01,e.y+e.height*.99]);return[t,n,a,i,Ch*r]}self.onmessage=({data:{X:e,area:r,type:t,feature:n,xLayout:a,yLayout:i}})=>{if(t!=="init")return;const s={discriminator:"positionedlabels",type:"x",labels:[]};self.postMessage({type:"message",message:"Calculating groups"});const o=e.map((v,A)=>({relativeIndex:A,value:v})),u=e.length,f=Sl(o,v=>v.value[n]),l=new Array(u),[c,h,b,p,m]=Nh(r),$=1/(Oe(f).length+10);let x=$,w=1-$*(Oe(f).length+1);for(const v of Oe(f)){const A=f[v],y=w*(A.length/u),_e=x+y/2;s.labels.push({position:_e,content:v}),x+=y+$;const Qe=y/3;A.forEach((V,mt)=>{l[V.relativeIndex]={x:_e+(-2+Math.random())*Qe,y:i[V.relativeIndex]}})}self.postMessage({type:"finish",Y:l.map(v=>({x:b(v.x),y:p(v.y)})),xLayout:l.map(v=>v.x),yLayout:l.map(v=>v.y),labels:s})}})();
